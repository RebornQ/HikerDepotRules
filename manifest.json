{
  "notice": "仓库已迁移至Github",
  "data": [
    {
      "title": "分类仓库模板",
      "author": "Reborn",
      "version": 7,
      "updateText": "1.‘‘优化’’：直链仓库迁移至Github",
      "tips": "‘‘新功能’’:搜索仓库规则，需仓库管理者自行配置搜索解析仓库列表",
      "rule": "rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77yMUmVib3Ju77+laG9tZV9ydWxl77+leyJmaXJzdEhlYWRlciI6ImNsYXNzIiwidGl0bGUiOiLliIbnsbvku5PlupPmqKHmnb8iLCJhdXRob3IiOiJSZWJvcm4iLCJ1cmwiOiJoaWtlcjovL2hvbWUjZnlBbGwiLCJ2ZXJzaW9uIjo3LCJjb2xfdHlwZSI6InRleHRfMSIsImNsYXNzX25hbWUiOiLnn63op4bpopEm5b2x6KeGJuWKqOa8qyIsImNsYXNzX3VybCI6IlJlYm9ybkBAYXBpVHlwZT0nMCdAQGZ1bGxVcmw9J2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9SZWJvcm5RL0hpa2VyUnVsZXMvY2xhc3Nlcy9ub1NuaWZmZXIvbWFuaWZlc3RfdmlkZW9fc2hvcnQuanNvbidcblxuJlJlYm9ybkBAYXBpVHlwZT0nMCdAQGZ1bGxVcmw9J2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9SZWJvcm5RL0hpa2VyUnVsZXMvY2xhc3Nlcy9ub1NuaWZmZXIvbWFuaWZlc3RfdmlkZW8uanNvbidcblxuJlJlYm9ybkBAYXBpVHlwZT0nMCdAQGZ1bGxVcmw9J2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9SZWJvcm5RL0hpa2VyUnVsZXMvY2xhc3Nlcy9ub1NuaWZmZXIvbWFuaWZlc3RfYW5pbWUuanNvbiciLCJhcmVhX25hbWUiOiIiLCJhcmVhX3VybCI6IiIsInNvcnRfbmFtZSI6IiIsInllYXJfbmFtZSI6IlvkvovlrZBd56eB5Lq65LuT5bqTJlvkvovlrZBd6Ieq5a6a5LmJ5paH5Lu25ZCNJlvkvovlrZBd6Z2e56CB5LqR5LuT5bqT6KeE5YiZIiwic29ydF91cmwiOiIiLCJ5ZWFyX3VybCI6IlJlYm9ybkBAUmVib3JuXzBAQEhpa2VyUnVsZXNQcml2YWN5QEBhY2Nlc3NfdG9rZW49JyoqKionXG5cbiZSZWJvcm5AQFJlYm9ybl8wQEBIaWtlclJ1bGVzRGVwb3RAQHJlbW90ZUZpbGVuYW1lPSd1cGRhdGVfMS5qc29uJ1xuXG4mUmVib3JuQEBhcGlUeXBlPScwJ0BAZnVsbFVybD0naHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL1JlYm9yblEvSGlrZXJSdWxlcy9tYW5pZmVzdC5qc29uJyIsImZpbmRfcnVsZSI6ImpzOlxudmFyIHJlcyA9IHt9O1xudmFyIGQgPSBbXTtcbnZhciBtUnVsZSA9IEpTT04ucGFyc2UoZ2V0UnVsZSgpKTtcblxudmFyIHNldHRpbmdzID0ge1xuICAgIC8vIOWOi+e8qeaWh+acrOW8gOWFs++8jOWNs+inhOWImSDmj5DnpLov5pu05paw5pel5b+XIOS4jeepuuihjO+8jOS7peWQjuWPr+iDvei/mOacieWFtuS7llxuICAgIGNvbXByZXNzVGV4dDogZmFsc2UsXG4gICAgLy8g6K6+572uIHRydWUg5LiA6ZSu5YeA5YyW77yM6Zmk5LqG6KeE5YiZ5ZKM5LuT5bqT6YCa55+l77yM5ZWl5Lmf5LiN6KaBXG4gICAgaGlkZUFsbDogZmFsc2UsXG4gICAgLy8g6KeE5YiZ5pWw6YeP5pi+56S65byA5YWz77yM5LiN6ZyA6KaB5pi+56S66K+36K6+572u5Li6dHJ1ZVxuICAgIG5vUnVsZXNOdW06IGZhbHNlLFxuICAgIC8vIOaYr+WQpuWFgeiuuOi2hei/h+S4gOWumuinhOWImeaVsOWQjuaUueWPmOaYvuekuuagt+W8j++8jOm7mOiupOS4jeW8gOWQr++8jOimgeW8gOWni+ivt+iuvue9ruS4uiB0cnVlXG4gICAgbmVlZENoYW5nZVNob3dUeXBlOiBmYWxzZSxcbiAgICAvLyDorr7nva7mnIDlpKfmmL7npLrlrozmlbTmlofmnKznmoTop4TliJnmlbDvvIzlpKfkuo7orr7nva7lgLzliJnmmL7npLrkuLrmjInpkq7moLflvI8o6buY6K6kIHRleHRfMilcbiAgICBzaG93RnVsbFRleHRNYXg6IDEwLFxuICAgIC8vIOiuvue9rui2hei/h+WFgeiuuOaYvuekuuWujOaVtOaWh+acrOeahOinhOWImeaVsOWQjuaYvuekuueahOagt+W8j1xuICAgIG92ZXJNYXhTaG93VHlwZTogXCJ0ZXh0XzJcIixcbiAgICAvKipcbiAgICAgKiDop4TliJnmmKDlsITliJfooahcbiAgICAgKiDlt6bmnKzlnLDvvIzlj7Pov5znq6/vvIzmnKzlnLDmmKDlsITkuLrov5znq6/vvIzovr7liLDmm7/mjaLlhoXlrrnnmoTnm67nmoRcbiAgICAgKiDpnIDopoHlhajlkI3ljLnphY3pnIDopoHlnKjmmKDlsITooajkuK3liqDlhaV7IFwibWF0Y2hBbGxcIjogdHJ1ZSB9XG4gICAgICog77yI5rOo5oSP77yM56iL5bqP6YC76L6R5Li65YWI5pig5bCE5ZCO5omn6KGM5LiL6Z2i55qE5Yig6Zmk5qCH6K6w77yJXG4gICAgICovXG4gICAgcnVsZXNNYXBwaW5nOiBbXG4gICAgICAgIC8vIFt7XCJ0aXRsZVwiOiBcIuWXqOWThuWSqlwiLCBcImF1dGhvclwiOiBcIuWPkeeyqua2guWimVwifSwge1widGl0bGVcIjogXCLll6jlk5rlkqrlvbHop4ZcIiwgXCJhdXRob3JcIjogXCLlj5HnsqrmtoLloplcIn0sIHtcIm1hdGNoQWxsXCI6IHRydWV9XSxcbiAgICAgICAgLy8gW3tcInRpdGxlXCI6IFwi6aKE5ZGK54mHXCIsIFwiYXV0aG9yXCI6IFwiUmVib3JuXCJ9LCB7XCJ0aXRsZVwiOiBcIumihOWRiueJhyg/PeKAolJlKVwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifV0sXG4gICAgICAgIC8vIFt7XCJ0aXRsZVwiOiBcIumihOWRiueJh+KAolRcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn0sIHtcInRpdGxlXCI6IFwi6aKE5ZGK54mH4oCiUmVcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn0sIHtcIm1hdGNoQWxsXCI6IHRydWV9XSxcbiAgICAgICAgLy8gW3tcInRpdGxlXCI6IFwiLio/KD894oCiVClcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn0sIHtcInRpdGxlXCI6IFwiLio/KD894oCiUmUpXCIsIFwiYXV0aG9yXCI6IFwiUmVib3JuXCJ9XSxcbiAgICAgICAgLy8gW3tcInRpdGxlXCI6IFwiLio/KD894oCiQilcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn0sIHtcInRpdGxlXCI6IFwiLio/KD894oCiUmUpXCIsIFwiYXV0aG9yXCI6IFwiUmVib3JuXCJ9XVxuICAgIF0sXG4gICAgLy8g5LqR56uv6KeE5YiZ5pig5bCE5YiX6KGo6ZO+5o6l77yM5qC85byP5pivSlNPTuaVsOe7hO+8jOivt+iHquW3seiuvue9rlxuICAgIHJlbW90ZVJ1bGVzTWFwcGluZ1VybDogXCJcIixcblxuICAgIC8vIOWFpeaIj+W8gOWFs++8n++8iOa7keeove+8iS8vIOWIoOmZpOW8gOWFs++8jOS4jemcgOimgeWIoOmZpOivt+iuvue9ruS4umZhbHNlXG4gICAgbmVlZERlbFN5bWJvbDogdHJ1ZSxcbiAgICAvLyDoh6rooYzmt7vliqDopoHooqvliKDmjonnmoTmoIforrBcbiAgICBzeW1ib2xzOiBbXCLmoIforrAxXCIsIFwi5qCH6K6wMlwiXSxcblxuICAgIC8vIOmakOiXj+W8gOWFs++8jOS4jemcgOimgemakOiXj+ivt+iuvue9ruS4umZhbHNlXG4gICAgbmVlZEhpZGVSdWxlOiB0cnVlLFxuICAgIC8vIOiHquihjOa3u+WKoOimgemakOiXj+eahOagh+iusO+8jOagvOW8j+S4uu+8mlvmoIforrDlkI1dXG4gICAgaGlkZVN5bWJvbHM6IFtcIlvmqKHmnb9dXCIsIFwiW+acquWujOaIkF1cIl0sXG5cbiAgICAvLyDoi6XpnIDopoHlhbPpl63lv73nlaXmnKzmrKHmm7TmlrDor7forr7nva7kuLp0cnVlXG4gICAgbm9JZ25vcmVVcGRhdGU6IGZhbHNlLFxuICAgIC8vIOacrOWcsOW/veeVpeabtOaWsOWIl+ihqO+8jFxuICAgIC8vIOWGheWuueaooeadv+S4uiB7dGl0bGU6IFwi6KeE5YiZ5ZCNXCIsIGF1dGhvcjogXCLop4TliJnkvZzogIVcIn1cbiAgICBpZ25vcmVVcGRhdGVSdWxlTGlzdDogW1xuICAgICAgICAvLyB7dGl0bGU6IFwi6aKE5ZGK54mH4oCiUmVcIiwgYXV0aG9yOiBcIlJlYm9yblwifSxcbiAgICBdLFxuICAgIC8vIOS6keerr+W/veeVpeabtOaWsOWIl+ihqO+8jOagvOW8j+aYr0pTT07mlbDnu4TvvIzor7foh6rlt7Horr7nva5cbiAgICByZW1vdGVJZ25vcmVMaXN0VXJsOiBcIlwiLFxuICAgIC8vIOWPguiAg+mTvuaOpe+8mlxuICAgIC8vIGh0dHBzOi8vZ2l0ZWUuY29tL1JlYm9ybl8wL0hpa2VyUnVsZXNEZXBvdC9yYXcvbWFzdGVyL2lnbm9yZVVwZGF0ZVJ1bGVMaXN0Lmpzb25cbiAgICAvLyBodHRwczovL2dpdGVlLmNvbS9xaXVzdW5zaGluZTIzMy9oaWtlclZpZXcvcmF3L21hc3Rlci9ydWxldmVyc2lvbi9SZWJvcm4vaWdub3JlVXBkYXRlUnVsZUxpc3QuanNvblxuXG4gICAgLy8g5Li65omA5pyJ5YiG57G75re75Yqg6K+l5YiG57G75LuT5bqT5pu05paw5Yqf6IO9XG4gICAgLy8g6ZyA6KaB5YOP5oC75LuT5bqT5LiA5qC35Y2V54us55So5LiA5LiqanNvbueuoeeQhu+8jOiHquihjOWhq+WFpeWcsOWdgFxuICAgIHJlbW90ZURlcG90UnVsZVVybDogXCJodHRwczovL2dpdGVlLmNvbS9SZWJvcm5fMC9IaWtlclJ1bGVzRGVwb3QvcmF3L21hc3Rlci91cGRhdGUuanNvblwiLFxuICAgIC8vIOiLpeS4jemcgOimgeabtOaWsOWImeWFs+mXrVxuICAgIHNob3dVcGRhdGVFcnJvclRpcHM6IHRydWUsXG59O1xuXG4vLyDku5PlupPnirbmgIHnvJPlrZjmlofku7blnLDlnYBcbnZhciBzdGF0dXNDYWNoZUZpbGUgPSBcImhpa2VyOi8vZmlsZXMvXCIgKyBtUnVsZS50aXRsZSArIFwiX1wiICsgbVJ1bGUuYXV0aG9yICsgXCIuanNvblwiO1xuLy8g5Li+5L6LIGhpa2VyOi8vZmlsZXMvZGVwb3RTdGF0dXMuanNvblxuXG52YXIgcmVtb3RlSWdub3JlTGlzdCA9IFtdO1xudHJ5IHtcbiAgICBldmFsKFwicmVtb3RlSWdub3JlTGlzdD1cIiArIGZldGNoKHNldHRpbmdzLnJlbW90ZUlnbm9yZUxpc3RVcmwsIHt9KSk7XG59IGNhdGNoIChlKSB7XG59XG5BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzZXR0aW5ncy5pZ25vcmVVcGRhdGVSdWxlTGlzdCwgcmVtb3RlSWdub3JlTGlzdCk7XG4vLyBzZXRFcnJvcihKU09OLnN0cmluZ2lmeShpZ25vcmVVcGRhdGVSdWxlTGlzdCkpO1xuXG52YXIgcmVtb3RlUnVsZXNNYXBwaW5nID0gW107XG50cnkge1xuICAgIGV2YWwoXCJyZW1vdGVSdWxlc01hcHBpbmc9XCIgKyBmZXRjaChzZXR0aW5ncy5yZW1vdGVSdWxlc01hcHBpbmdVcmwsIHt9KSk7XG59IGNhdGNoIChlKSB7XG59XG5BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzZXR0aW5ncy5ydWxlc01hcHBpbmcsIHJlbW90ZVJ1bGVzTWFwcGluZyk7XG4vLyBzZXRFcnJvcihKU09OLnN0cmluZ2lmeShydWxlc01hcHBpbmcpKTtcblxuLyoqXG4gKiDlj6/lnKjmraTlpIToh6rlrprkuYnku5PlupPvvIzlrp7njrDnp4Hkurrku5PlupNcbiAqXG4gKiDku6VSZWJvcm7ku5PlupPnmoTpk77mjqXkuLrlj4LogINcbiAqXG4gKiBodHRwczovL2dpdGVlLmNvbS9SZWJvcm5fMC9IaWtlclJ1bGVzRGVwb3QvYmxvYi9tYXN0ZXIvdXBkYXRlLmpzb25cbiAqL1xudmFyIGF1dGhvckxpc3QgPSBnZXRVcmwoKS5zcGxpdChcIiNcIilbMV07XG52YXIgYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0ID0gYXV0aG9yTGlzdC5zcGxpdChcIkBAXCIpO1xudmFyIGF1dGhvciA9IGF1dGhvckFuZE93bmVyQW5kUHJvamVjdFswXTtcbnZhciByZW1vdGVVcmwgPSBcIlwiO1xuXG52YXIgYXBpVHlwZSA9IFwiMVwiOyAgLy8gMCDkuLrmlofku7bnm7Tpk77vvIwxIOS4uueggeS6kUFQSVxudmFyIGFwaVR5cGVKUyA9IGF1dGhvckxpc3QubWF0Y2goL2FwaVR5cGU9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbmV2YWwoYXBpVHlwZUpTKTtcbmlmIChhcGlUeXBlID09IG51bGwpIGFwaVR5cGUgPSBcIjFcIjtcblxuaWYgKGFwaVR5cGUgPT0gXCIwXCIpIHtcbiAgICB2YXIgZnVsbFVybCA9IFwiXCI7XG4gICAgdmFyIGZ1bGxVcmxKUyA9IGF1dGhvckxpc3QubWF0Y2goL2Z1bGxVcmw9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbiAgICBldmFsKGZ1bGxVcmxKUyk7XG4gICAgcmVtb3RlVXJsID0gZnVsbFVybDtcbn0gZWxzZSBpZiAoYXBpVHlwZSA9PSBcIjFcIikge1xuICAgIHZhciByZW1vdGVBcGlIb21lID0gXCJodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3MvXCI7XG4gICAgdmFyIG93bmVyID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzFdOyAgIC8vIOS7k+W6k+aLpeacieiAhVxuICAgIHZhciByZXBvID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzJdOyAvLyDku5PlupPlkI1cbiAgICB2YXIgcmVtb3RlRmlsZW5hbWUgPSBudWxsOyAvLyDmlofku7blkI1cbiAgICB2YXIgcGF0aCA9IHJlbW90ZUZpbGVuYW1lOyAgLy8g5Zyo5LuT5bqT5Lit5paH5Lu255qE6Lev5b6EXG4gICAgdmFyIGFjY2Vzc190b2tlbiA9IG51bGw7ICAvLyDnlKjmiLfmjojmnYPnoIHvvIzlnKjnoIHkupFcIuiuvue9ruKAlD7lronlhajorr7lrpotPuS4quS6uuiuv+mXruS7pOeJjFwi5Lit5Y+v5Lul55Sf5oiQXG4gICAgdmFyIHRva2VuSlMgPSBhdXRob3JMaXN0Lm1hdGNoKC9hY2Nlc3NfdG9rZW49LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbiAgICBldmFsKHRva2VuSlMpO1xuICAgIC8vIHNldEVycm9yKGFjY2Vzc190b2tlbj09bnVsbCk7XG4gICAgdmFyIHJlbW90ZUZpbGVuYW1lSlMgPSBhdXRob3JMaXN0Lm1hdGNoKC9yZW1vdGVGaWxlbmFtZT0uW1xcc1xcU10qPycvKSArIFwiO1wiO1xuICAgIGV2YWwocmVtb3RlRmlsZW5hbWVKUyk7XG4gICAgaWYgKHJlbW90ZUZpbGVuYW1lID09IG51bGwpIHtcbiAgICAgICAgcmVtb3RlRmlsZW5hbWUgPSBcInVwZGF0ZS5qc29uXCI7XG4gICAgfVxuICAgIHBhdGggPSByZW1vdGVGaWxlbmFtZTtcbiAgICAvLyBzZXRFcnJvcihyZW1vdGVGaWxlbmFtZSlcbiAgICAvLyBBUEnpk77mjqXlj4LogIPvvJpodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3Mve3tvd25lcn19L3t7cmVwb319L2NvbnRlbnRzL3t7cGF0aH19P2FjY2Vzc190b2tlbj0qKioqXG4gICAgcmVtb3RlVXJsID0gcmVtb3RlQXBpSG9tZSArIG93bmVyICsgXCIvXCIgKyByZXBvICsgXCIvY29udGVudHMvXCIgKyBwYXRoO1xuICAgIGlmIChhY2Nlc3NfdG9rZW4gIT0gbnVsbCkge1xuICAgICAgICByZW1vdGVVcmwgPSByZW1vdGVVcmwgKyBcIj9hY2Nlc3NfdG9rZW49XCIgKyBhY2Nlc3NfdG9rZW47XG4gICAgfVxuICAgIC8vIHNldEVycm9yKHJlbW90ZVVybCk7XG4gICAgLy8gdmFyIHJlbW90ZUhvbWUgPSBcImh0dHBzOi8vZ2l0ZWUuY29tL1wiICsgb3duZXIgKyBcIi9cIiArIHJlcG8gKyBcIi9ibG9iL21hc3Rlci91cGRhdGUuanNvblwiO1xufVxuXG5mdW5jdGlvbiB3cml0ZU9iamVjdFRvRmlsZShmaWxlVXJsLCBvYmplY3QpIHtcbiAgICB3cml0ZUZpbGUoZmlsZVVybCwgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSk7XG59XG5cbi8vIOaKiuaAu+S7k+W6k+eKtuaAgeWGmeWFpeaWh+S7tlxuZnVuY3Rpb24gd3JpdGVEZXBvdFN0YXR1c1RvRmlsZShkZXBvdFN0YXR1cykge1xuICAgIHdyaXRlT2JqZWN0VG9GaWxlKHN0YXR1c0NhY2hlRmlsZSwgZGVwb3RTdGF0dXMpO1xufVxuXG4vLyDoi6XkuI3mmK/nrKzkuIDmrKHkvb/nlKjmgLvku5PlupPliJnpmpDol4/lvIDlj5HmlofmoaNcbnZhciBkZXBvdFN0YXR1cyA9IHt9O1xudmFyIGRlcG90U3RhdHVzRmlsZSA9IGZldGNoKHN0YXR1c0NhY2hlRmlsZSwge30pO1xuaWYgKGRlcG90U3RhdHVzRmlsZSAhPSBcIlwiKSB7XG4gICAgZXZhbChcImRlcG90U3RhdHVzPVwiICsgZGVwb3RTdGF0dXNGaWxlKTtcbn1cblxudmFyIGRlcG90UnVsZXNTdGF0dXMgPSB7XG4gICAgdXBkYXRlTnVtOiAwLFxuICAgIG5vSW1wb3J0TnVtOiAwLFxuICAgIGlnbm9yZU51bTogMCxcbiAgICB1bmtub3duVHlwZU51bTogMFxufTtcblxudmFyIGVudGVyVGV4dCA9IFwiXFxuXFxuXCI7XG5pZiAoc2V0dGluZ3MuY29tcHJlc3NUZXh0ID09IHRydWUpIGVudGVyVGV4dCA9IFwiXFxuXCI7XG5cbmZ1bmN0aW9uIGdldFJ1bGVOb1N5bWJvbHMocnVsZSwgc3ltYm9sTGlzdCkge1xuICAgIGlmIChzZXR0aW5ncy5uZWVkRGVsU3ltYm9sICE9IHRydWUpIHJldHVybiBydWxlO1xuICAgIHZhciBydWxlVGVtcCA9IHJ1bGU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzeW1ib2xSZWcgPSBuZXcgUmVnRXhwKHN5bWJvbExpc3RbaV0sIFwiZ1wiKTtcbiAgICAgICAgcnVsZVRlbXAudGl0bGUgPSBydWxlVGVtcC50aXRsZS5yZXBsYWNlKHN5bWJvbFJlZywgXCJcIik7XG4gICAgfVxuLy9zZXRFcnJvcihKU09OLnN0cmluZ2lmeShydWxlVGVtcCkpO1xuICAgIHJldHVybiBydWxlVGVtcDtcbn1cblxuZnVuY3Rpb24gaXNIaWRlUnVsZShydWxlKSB7XG4gICAgaWYgKHNldHRpbmdzLm5lZWRIaWRlUnVsZSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gaWYgKGhpZGVTeW1ib2xzLmxlbmd0aCA9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHJ1bGVUZW1wID0gcnVsZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldHRpbmdzLmhpZGVTeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChydWxlVGVtcC50aXRsZS5pbmRleE9mKHNldHRpbmdzLmhpZGVTeW1ib2xzW2ldKSAhPSAtMSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0UnVsZUluQXJyYXkocnVsZXMsIHJ1bGUpIHtcbiAgICBpZiAocnVsZXMgPT0gbnVsbCB8fCBydWxlcy5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocnVsZXNbaV0udGl0bGUgPT0gcnVsZS50aXRsZSAmJiBydWxlc1tpXS5hdXRob3IgPT0gYXV0aG9yKSByZXR1cm4gcnVsZXNbaV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0lnbm9yZVVwZGF0ZVJ1bGUocnVsZSkge1xuICAgIGlmIChpc0luQXJyYXkoc2V0dGluZ3MuaWdub3JlVXBkYXRlUnVsZUxpc3QsIHJ1bGUpID09IHRydWUpIHtcbiAgICAgICAgdmFyIGNhY2hlSWdub3JlUnVsZSA9IGdldFJ1bGVJbkFycmF5KGRlcG90U3RhdHVzLmlnbm9yZVVwZGF0ZVJ1bGVMaXN0LCBydWxlKTtcbiAgICAgICAgaWYgKGNhY2hlSWdub3JlUnVsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoZGVwb3RTdGF0dXMuaWdub3JlVXBkYXRlUnVsZUxpc3QgPT0gbnVsbCkgZGVwb3RTdGF0dXMuaWdub3JlVXBkYXRlUnVsZUxpc3QgPSBbXTtcbiAgICAgICAgICAgIGNhY2hlSWdub3JlUnVsZSA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogcnVsZS50aXRsZSxcbiAgICAgICAgICAgICAgICBhdXRob3I6IGF1dGhvcixcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBydWxlLnZlcnNpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkZXBvdFN0YXR1cy5pZ25vcmVVcGRhdGVSdWxlTGlzdC5wdXNoKGNhY2hlSWdub3JlUnVsZSk7XG4gICAgICAgICAgICB3cml0ZURlcG90U3RhdHVzVG9GaWxlKGRlcG90U3RhdHVzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHJ1bGUudmVyc2lvbiAhPSBjYWNoZUlnbm9yZVJ1bGUudmVyc2lvbikge1xuICAgICAgICAgICAgICAgIGNhY2hlSWdub3JlUnVsZS52ZXJzaW9uID0gcnVsZS52ZXJzaW9uO1xuICAgICAgICAgICAgICAgIHdyaXRlRGVwb3RTdGF0dXNUb0ZpbGUoZGVwb3RTdGF0dXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzZXRJZ25vcmVVcGRhdGVSdWxlKHJ1bGUpIHtcbiAgICBpZiAoaXNJZ25vcmVVcGRhdGVSdWxlKHJ1bGUpID09IHRydWUpIHJ1bGUuaXNJZ25vcmVVcGRhdGUgPSB0cnVlO1xufVxuXG52YXIgcnVsZXMgPSBbXTtcbmV2YWwoXCJydWxlcz1cIiArIGdldFJlc0NvZGUoKSk7XG52YXIgbXlSdWxlcyA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBydWxlID0gcnVsZXNbaV07XG4gICAgaWYgKHJ1bGUuYXV0aG9yID09IGF1dGhvcikge1xuICAgICAgICBteVJ1bGVzLnB1c2goZ2V0UnVsZU5vU3ltYm9scyhydWxlLCBzZXR0aW5ncy5zeW1ib2xzKSk7XG4gICAgfVxufVxuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkobXlSdWxlcykpO1xuXG4vLyDlpoLmnpzmnKzlnLDmsqHmnInliJnmj5DnpLrlr7zlhaXmlrDop4TliJlcbi8vIOWboOmDqOWIhuaJi+acuuS4jeaUr+aMgWVzNuivreazle+8jOaVheazqOmHiuaOiVxuLyp2YXIgbXlSdWxlc01hcCA9IG5ldyBNYXAoKTtcbm15UnVsZXMubWFwKHJ1bGU9Pntcbm15UnVsZXNNYXAuc2V0KHJ1bGUudGl0bGUsIHRydWUpO1xufSk7XG4vL3NldEVycm9yKG15UnVsZXNNYXAuZ2V0KFwi6IW+6K6v4oCiUmVcIikpOyovXG5cbi8vIOWOn+Wni+aWueazle+8jOavlOi+g+iAl+aXtlxuZnVuY3Rpb24gaXNJbkFycmF5KHJ1bGVzLCBydWxlKSB7XG4gICAgaWYgKHJ1bGVzLmxlbmd0aCA9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocnVsZXNbaV0udGl0bGUgPT0gcnVsZS50aXRsZSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0UnVsZUluUnVsZXNXaXRoTWFwcGluZyhydWxlcywgcnVsZSkge1xuICAgIGlmIChydWxlcyA9PSBudWxsIHx8IHJ1bGVzLmxlbmd0aCA9PSAwIHx8IHJ1bGUgPT0gbnVsbCB8fCBydWxlLm1hcHBpbmdUaXRsZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChydWxlc1tpXS5tYXBwaW5nVGl0bGUgIT0gbnVsbCAmJiBydWxlc1tpXS5tYXBwaW5nVGl0bGUgPT0gcnVsZS5tYXBwaW5nVGl0bGUgJiYgcnVsZXNbaV0uYXV0aG9yID09IGF1dGhvcikgcmV0dXJuIHJ1bGVzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNJblJ1bGVzV2l0aE1hcHBpbmcocnVsZXMsIHJ1bGUpIHtcbiAgICBpZiAoZ2V0UnVsZUluUnVsZXNXaXRoTWFwcGluZyhydWxlcywgcnVsZSkgIT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgZWxzZSByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBkZXNjID0gZnVuY3Rpb24gKHJ1bGVzLCBydWxlKSB7XG4gICAgaWYgKHJ1bGUgIT0gbnVsbCAmJiBydWxlLnZlcnNpb24gPCAwKSB7XG4gICAgICAgIGRlcG90UnVsZXNTdGF0dXMudW5rbm93blR5cGVOdW0gKz0gMTtcbiAgICAgICAgcmV0dXJuIFwi5LuT5bqT5peg5rOV5qOA5rWL6K+l6KeE5YiZ57G75Z6L77yM6K+34oCY4oCY55yL6KeE5YiZ5pu05paw5pe26Ze04oCZ4oCZXCI7XG4gICAgfVxuICAgIGlmIChpc0luUnVsZXNXaXRoTWFwcGluZyhydWxlcywgcnVsZSkgPT0gdHJ1ZSB8fCBpc0luQXJyYXkocnVsZXMsIHJ1bGUpID09IHRydWUpIHtcbiAgICAgICAgaWYgKHJ1bGUub2xkVmVyc2lvbiAhPSBudWxsICYmIHJ1bGUub2xkVmVyc2lvbiA8IHJ1bGUudmVyc2lvbikge1xuICAgICAgICAgICAgZGVwb3RSdWxlc1N0YXR1cy51cGRhdGVOdW0gKz0gMTtcbiAgICAgICAgICAgIHJldHVybiAoXCLigJjigJjmnInmlrDniYjmnKzvvJpcIiArIHJ1bGUudmVyc2lvbiArIFwi4oCZ4oCZ77yM54K55Ye75a+85YWl5paw54mI5pysXCIpXG4gICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgIGVudGVyVGV4dCArIFwiW+abtOaWsOaXpeW/l10gXCJcbiAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlLnVwZGF0ZVRleHQgPT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLml6BcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcnVsZS51cGRhdGVUZXh0XG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJ1bGUub2xkVmVyc2lvbiA+IHJ1bGUudmVyc2lvbiA/XG4gICAgICAgICAgICAgICAgXCLigJjigJjllrXvvJ/kuLrllaXkvaDnmoTop4TliJnniYjmnKzmr5TmiJHov5jpq5jvvJ/igJnigJlcIlxuICAgICAgICAgICAgICAgIDogXCLlvZPliY3op4TliJnlt7LmmK/mnIDmlrDniYjvvIzngrnlh7vot7PliLDop4TliJnpobVcIjtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlcG90UnVsZXNTdGF0dXMubm9JbXBvcnROdW0gKz0gMTtcbiAgICAgICAgcmV0dXJuIFwi4oCY4oCY5L2g5bCa5pyq5a+85YWl6K+l6KeE5YiZ4oCZ4oCZ77yM54K55Ye75a+85YWlXCI7XG4gICAgfVxufTtcblxudHJ5IHtcbiAgICB2YXIgcmVtb3RlRGVwb3RSdWxlID0ge307XG4gICAgZXZhbChcInJlbW90ZURlcG90UnVsZT1cIiArIGZldGNoKHNldHRpbmdzLnJlbW90ZURlcG90UnVsZVVybCwge30pKTtcbiAgICB2YXIgbG9jYWxEZXBvdFJ1bGUgPSBKU09OLnBhcnNlKGdldFJ1bGUoKSk7XG4gICAgcmVtb3RlRGVwb3RSdWxlID0gcmVtb3RlRGVwb3RSdWxlLmRhdGFbMF07XG4gICAgcmVtb3RlRGVwb3RSdWxlLm9sZFZlcnNpb24gPSBsb2NhbERlcG90UnVsZS52ZXJzaW9uO1xuLy9zZXRFcnJvcihKU09OLnN0cmluZ2lmeShsb2NhbERlcG90UnVsZSkpO1xuLy9zZXRFcnJvcihKU09OLnN0cmluZ2lmeShyZW1vdGVEZXBvdFJ1bGUpKTtcbiAgICBpZiAocmVtb3RlRGVwb3RSdWxlLm9sZFZlcnNpb24gPCByZW1vdGVEZXBvdFJ1bGUudmVyc2lvbikge1xuICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6IFwi4oCY4oCY5qih5p2/5pyJ5paw54mI5pys77yaXCIgKyByZW1vdGVEZXBvdFJ1bGUudmVyc2lvbiArIFwi4oCZ4oCZ77yM6K+36IGU57O75L2c6ICF5Y675oC75LuT5bqT5pu05pawXCIsXG4vLyByZW1vdGVEZXBvdFJ1bGUudGl0bGUgKyBcIlxcdFwiICsgZGVzYyhydWxlcywgcmVtb3RlRGVwb3RSdWxlKSxcbi8vICAgICAgICAgICAgIHVybDogcmVtb3RlRGVwb3RSdWxlLnJ1bGUgfHwgXCJcIixcbiAgICAgICAgICAgIHVybDogXCJoaWtlcjovL2hvbWVA5oC75LuT5bqTXCIsXG4gICAgICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCIsXG4gICAgICAgICAgICAvL2NvbnRlbnQ6IHJlbW90ZURlcG90UnVsZS51cGRhdGVUZXh0LFxuICAgICAgICAgICAgZGVzYzogXCLjgJDmm7TmlrDml6Xlv5fjgJFcXG5cIiArIHJlbW90ZURlcG90UnVsZS51cGRhdGVUZXh0XG4gICAgICAgIH0pO1xuICAgIH1cbn0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoc2V0dGluZ3Muc2hvd1VwZGF0ZUVycm9yVGlwcyA9PSB0cnVlKVxuICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6IFwi4oCY4oCY5oC75LuT5bqT5pu05paw56iL5bqP5bey5o2f5Z2P4oCZ4oCZXCIsXG4gICAgICAgICAgICBkZXNjOiBcIuivt+iBlOezuyBcIiArIG1SdWxlLmF1dGhvciArIFwiIOS/ruWkjVwiLFxuICAgICAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiLFxuICAgICAgICB9KTtcbn1cblxudmFyIHJlbW90ZVJ1bGVzID0gW107XG4vLyB2YXIgcmVtb3RlVXJsID0gcmVtb3RlQXBpSG9tZSArIGVuY29kZVVSSUNvbXBvbmVudChhdXRob3IpICsgXCIvXCIgKyByZW1vdGVGaWxlbmFtZTtcbnZhciByZW1vdGVTb3VyY2UgPSBmZXRjaChyZW1vdGVVcmwsIHt9KTtcbi8vIHNldEVycm9yKHJlbW90ZVVybCk7XG50cnkge1xuICAgIGV2YWwoXCJyZW1vdGVTb3VyY2U9XCIgKyByZW1vdGVTb3VyY2UpO1xuICAgIGlmIChhcGlUeXBlID09IFwiMFwiKSB7XG4gICAgICAgIHJlbW90ZVJ1bGVzID0gcmVtb3RlU291cmNlO1xuICAgIH0gZWxzZSBpZiAoYXBpVHlwZSA9PSBcIjFcIikge1xuICAgICAgICBldmFsKFwicmVtb3RlUnVsZXM9XCIgKyBiYXNlNjREZWNvZGUocmVtb3RlU291cmNlLmNvbnRlbnQpKTtcbiAgICB9XG4gICAgaWYgKHJlbW90ZVJ1bGVzLmRhdGEgIT0gbnVsbCkge1xuICAgICAgICB2YXIgbm90aWNlID0gcmVtb3RlUnVsZXMubm90aWNlO1xuICAgICAgICBpZiAobm90aWNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKG5vdGljZSkgPT0gXCJzdHJpbmdcIiAmJiBub3RpY2UgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuS7k+W6k+mAmuefpVwiLFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiBub3RpY2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcInBpY18xXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIChub3RpY2UpID09IFwib2JqZWN0XCIgJiYgbm90aWNlLmRlc2MgIT0gbnVsbCAmJiBub3RpY2UuZGVzYyAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG5vdGljZS50aXRsZSAhPSBudWxsICYmIG5vdGljZS50aXRsZSAhPSBcIlwiID8gbm90aWNlLnRpdGxlIDogXCLku5PlupPpgJrnn6VcIixcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogbm90aWNlLmRlc2MsXG4gICAgICAgICAgICAgICAgICAgIHBpY191cmw6IG5vdGljZS5waWNVcmwsXG4vLyAhPSBudWxsICYmIG5vdGljZS5waWNVcmwgIT0gXCJcIiA/IG5vdGljZS5waWNVcmwgOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogXCJwaWNfMVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3RlUnVsZXMgPSByZW1vdGVSdWxlcy5kYXRhO1xuICAgIH1cbn0gY2F0Y2ggKGUpIHtcbn1cbi8vc2V0RXJyb3IocmVtb3RlUnVsZXMubGVuZ3RoKTtcbmlmIChyZW1vdGVSdWxlcy5sZW5ndGggPT0gMCkge1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIuivpei/nOeoi+S7k+W6k+aXoOaVsOaNru+8gVwiLFxuICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbiAgICB9KTtcbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogXCLor6Xov5znqIvku5PlupPml6DmlbDmja7vvIFcIixcbiAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG4gICAgfSk7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi6K+l6L+c56iL5LuT5bqT5peg5pWw5o2u77yBXCIsXG4gICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIlxuICAgIH0pO1xufSBlbHNlIHtcbiAgICAvL3NldEVycm9yKG15UnVsZXMubGVuZ3RoKTtcbiAgICBpZiAobXlSdWxlcy5sZW5ndGggPj0gcmVtb3RlUnVsZXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIOS4jeefpemBk+S8muS4jeS8muaciemXrumimFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG15UnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmVtb3RlUnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxSdWxlID0gbXlSdWxlc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3RlUnVsZSA9IHJlbW90ZVJ1bGVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChpc0hpZGVSdWxlKHJlbW90ZVJ1bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGVzLnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0SWdub3JlVXBkYXRlUnVsZShyZW1vdGVSdWxlKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHNldHRpbmdzLnJ1bGVzTWFwcGluZy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAoKGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgIT0gbnVsbCAmJiByZW1vdGVSdWxlLm1hcHBpbmdUaXRsZSAhPSBudWxsKSB8fCByZW1vdGVSdWxlLmlzTWFwcGVkID09IHRydWUpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJ1bGVNYXBwaW5nID0gc2V0dGluZ3MucnVsZXNNYXBwaW5nW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2FsUnVsZU1hcHBpbmdUaXRsZSA9IHJ1bGVNYXBwaW5nWzBdLnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGVNYXBwaW5nVGl0bGUgPSBydWxlTWFwcGluZ1sxXS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWFqOWQjeaYoOWwhFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsUnVsZS50aXRsZSA9PSBsb2NhbFJ1bGVNYXBwaW5nVGl0bGUgJiYgcmVtb3RlUnVsZS50aXRsZSA9PSByZW1vdGVSdWxlTWFwcGluZ1RpdGxlICYmIHJ1bGVNYXBwaW5nWzJdLm1hdGNoQWxsID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlID0gcmVtb3RlUnVsZU1hcHBpbmdUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLm1hcHBpbmdUaXRsZSA9IHJlbW90ZVJ1bGVNYXBwaW5nVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZVJlZ2V4ID0gbmV3IFJlZ0V4cChsb2NhbFJ1bGVNYXBwaW5nVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgPSBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlICE9IG51bGwgJiYgbG9jYWxSdWxlLm1hcHBpbmdUaXRsZSAhPSBcIlwiID8gbG9jYWxSdWxlLm1hcHBpbmdUaXRsZSA6IGxvY2FsUnVsZS50aXRsZS5tYXRjaCh0aXRsZVJlZ2V4KVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZVJlZ2V4ID0gbmV3IFJlZ0V4cChyZW1vdGVSdWxlTWFwcGluZ1RpdGxlLCBcImdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5tYXBwaW5nVGl0bGUgPSByZW1vdGVSdWxlLnRpdGxlLm1hdGNoKHRpdGxlUmVnZXgpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgPT0gcmVtb3RlUnVsZS5tYXBwaW5nVGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLmxvY2FsVGl0bGUgPSBsb2NhbFJ1bGUudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5pc01hcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5vbGRWZXJzaW9uID0gbG9jYWxSdWxlLnZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobG9jYWxSdWxlLnRpdGxlID09IHJlbW90ZVJ1bGUudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5vbGRWZXJzaW9uID0gbG9jYWxSdWxlLnZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbal0ucnVsZT1teVJ1bGVzW2ldLnJ1bGU7XG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbal0uZGVzYz1teVJ1bGVzW2ldLmRlc2M7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdGVSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGUgPSByZW1vdGVSdWxlc1tpXTtcbiAgICAgICAgICAgIGlmICgoaXNIaWRlUnVsZShyZW1vdGVSdWxlKSkpIHtcbiAgICAgICAgICAgICAgICByZW1vdGVSdWxlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0SWdub3JlVXBkYXRlUnVsZShyZW1vdGVSdWxlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbXlSdWxlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBsb2NhbFJ1bGUgPSBteVJ1bGVzW2pdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc2V0dGluZ3MucnVsZXNNYXBwaW5nLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmICgobG9jYWxSdWxlLm1hcHBpbmdUaXRsZSAhPSBudWxsICYmIHJlbW90ZVJ1bGUubWFwcGluZ1RpdGxlICE9IG51bGwpIHx8IHJlbW90ZVJ1bGUuaXNNYXBwZWQgPT0gdHJ1ZSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcnVsZU1hcHBpbmcgPSBzZXR0aW5ncy5ydWxlc01hcHBpbmdba107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYWxSdWxlTWFwcGluZ1RpdGxlID0gcnVsZU1hcHBpbmdbMF0udGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3RlUnVsZU1hcHBpbmdUaXRsZSA9IHJ1bGVNYXBwaW5nWzFdLnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWo5ZCN5pig5bCEXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxSdWxlLnRpdGxlID09IGxvY2FsUnVsZU1hcHBpbmdUaXRsZSAmJiByZW1vdGVSdWxlLnRpdGxlID09IHJlbW90ZVJ1bGVNYXBwaW5nVGl0bGUgJiYgcnVsZU1hcHBpbmdbMl0ubWF0Y2hBbGwgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgPSByZW1vdGVSdWxlTWFwcGluZ1RpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGUubWFwcGluZ1RpdGxlID0gcmVtb3RlUnVsZU1hcHBpbmdUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlUmVnZXggPSBuZXcgUmVnRXhwKGxvY2FsUnVsZU1hcHBpbmdUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxSdWxlLm1hcHBpbmdUaXRsZSA9IGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgIT0gbnVsbCAmJiBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlICE9IFwiXCIgPyBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlIDogbG9jYWxSdWxlLnRpdGxlLm1hdGNoKHRpdGxlUmVnZXgpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlUmVnZXggPSBuZXcgUmVnRXhwKHJlbW90ZVJ1bGVNYXBwaW5nVGl0bGUsIFwiZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLm1hcHBpbmdUaXRsZSA9IHJlbW90ZVJ1bGUudGl0bGUubWF0Y2godGl0bGVSZWdleClbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxSdWxlLm1hcHBpbmdUaXRsZSA9PSByZW1vdGVSdWxlLm1hcHBpbmdUaXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGUubG9jYWxUaXRsZSA9IGxvY2FsUnVsZS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLmlzTWFwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLm9sZFZlcnNpb24gPSBsb2NhbFJ1bGUudmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsUnVsZS50aXRsZSA9PSByZW1vdGVSdWxlLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGUub2xkVmVyc2lvbiA9IGxvY2FsUnVsZS52ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAvL3JlbW90ZVJ1bGVzW2ldLnJ1bGU9bXlSdWxlc1tqXS5ydWxlO1xuICAgICAgICAgICAgICAgICAgICAvL3JlbW90ZVJ1bGVzW2ldLmRlc2M9bXlSdWxlc1tqXS5kZXNjO1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1lcmdlU29ydChhcnIpIHtcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaWRkbGUgPSBNYXRoLmZsb29yKGxlbiAvIDIpLFxuICAgICAgICAgICAgbGVmdCA9IGFyci5zbGljZSgwLCBtaWRkbGUpLFxuICAgICAgICAgICAgcmlnaHQgPSBhcnIuc2xpY2UobWlkZGxlKTtcbiAgICAgICAgcmV0dXJuIG1lcmdlKG1lcmdlU29ydChsZWZ0KSwgbWVyZ2VTb3J0KHJpZ2h0KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVyZ2UobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgaWdub3JlVXBkYXRlTGlzdCA9IFtdO1xuICAgICAgICB2YXIgaXNUaGlzVmVyc2lvbkxpc3QgPSBbXTtcblxuICAgICAgICB3aGlsZSAobGVmdC5sZW5ndGggPiAwICYmIHJpZ2h0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChsZWZ0WzBdLmlzSWdub3JlVXBkYXRlID09IHRydWUgJiYgbGVmdFswXS5vbGRWZXJzaW9uICE9IGxlZnRbMF0udmVyc2lvbikge1xuICAgICAgICAgICAgICAgIGlnbm9yZVVwZGF0ZUxpc3QucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyaWdodFswXS5pc0lnbm9yZVVwZGF0ZSA9PSB0cnVlICYmIHJpZ2h0WzBdLm9sZFZlcnNpb24gIT0gcmlnaHRbMF0udmVyc2lvbikge1xuICAgICAgICAgICAgICAgIGlnbm9yZVVwZGF0ZUxpc3QucHVzaChyaWdodC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGVmdFswXS5vbGRWZXJzaW9uIDwgbGVmdFswXS52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmlnaHRbMF0ub2xkVmVyc2lvbiA8IHJpZ2h0WzBdLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGVmdFswXS5vbGRWZXJzaW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyaWdodFswXS5vbGRWZXJzaW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNUaGlzVmVyc2lvbkxpc3QucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgIGlzVGhpc1ZlcnNpb25MaXN0LnB1c2gocmlnaHQuc2hpZnQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoaWdub3JlVXBkYXRlTGlzdC5sZW5ndGgpIHJlc3VsdC5wdXNoKGlnbm9yZVVwZGF0ZUxpc3Quc2hpZnQoKSk7XG5cbiAgICAgICAgd2hpbGUgKGlzVGhpc1ZlcnNpb25MaXN0Lmxlbmd0aCkgcmVzdWx0LnB1c2goaXNUaGlzVmVyc2lvbkxpc3Quc2hpZnQoKSk7XG5cbiAgICAgICAgd2hpbGUgKGxlZnQubGVuZ3RoKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcblxuICAgICAgICB3aGlsZSAocmlnaHQubGVuZ3RoKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocmlnaHQuc2hpZnQoKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZW1vdGVSdWxlcyA9IG1lcmdlU29ydChyZW1vdGVSdWxlcyk7XG5cbiAgICB2YXIgcnVsZVJlZyA9IG5ldyBSZWdFeHAoL3tbXl0qLyk7XG4gICAgZnVuY3Rpb24gZ2V0UnVsZUluUmVtb3RlKHJlbW90ZVJ1bGUpIHtcbiAgICAgICAgdmFyIHJlbW90ZVJ1bGVSdWxlID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV2YWwoXCJyZW1vdGVSdWxlUnVsZT1cIiArIGJhc2U2NERlY29kZShyZW1vdGVSdWxlLnJ1bGUucmVwbGFjZShcInJ1bGU6Ly9cIiwgXCJcIikpLm1hdGNoKHJ1bGVSZWcpWzBdKTtcbiAgICAgICAgICAgIGlmKHJlbW90ZVJ1bGUuZ3JvdXAgIT0gbnVsbCAmJiByZW1vdGVSdWxlUnVsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVtb3RlUnVsZVJ1bGUuZ3JvdXAgPSByZW1vdGVSdWxlLmdyb3VwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7IH1cbiAgICAgICAgcmV0dXJuIHJlbW90ZVJ1bGVSdWxlO1xuICAgIH1cblxuICAgIHZhciBpbXBvcnRMaXN0ID0gW107XG4gICAgdmFyIHVwZGF0ZUxpc3QgPSBbXTtcbiAgICB2YXIgaW1wb3J0TGlzdEZpbGUgPSBcImhpa2VyOi8vZmlsZXMvdG1wX2ltcG9ydExpc3QuanNvblwiO1xuICAgIHZhciB1cGRhdGVMaXN0RmlsZSA9IFwiaGlrZXI6Ly9maWxlcy90bXBfdXBkYXRlTGlzdC5qc29uXCI7XG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVIb21lUnVsZXNVcmwocnVsZXMsIGZpbGVuYW1lKSB7XG4gICAgICAgIC8vIOa1t+mYlOinhueVjO+8jOmmlumhtemikemBk+WQiOmbhiBob21lX3J1bGVfdXJsXG4gICAgICAgIHZhciBob21lUnVsZXNLZXkgPSBcIjVyVzM2WmlVNktlRzU1V003N3lNNmFhVzZhRzE2YUtSNllHVDVaQ0k2WnVHNzcrbGFHOXRaVjl5ZFd4bFgzVnliTysvcFE9PVwiO1xuICAgICAgICAvLyBzZXRFcnJvciAoSlNPTi5zdHJpbmdpZnkocnVsZXMpKTtcbiAgICAgICAgd3JpdGVPYmplY3RUb0ZpbGUoZmlsZW5hbWUsIHJ1bGVzKTtcbiAgICAgICAgdmFyIHN0ciA9IGJhc2U2NERlY29kZShob21lUnVsZXNLZXkpICsgZmlsZW5hbWU7XG4gICAgICAgIHJldHVybiBcInJ1bGU6Ly9cIiArIGJhc2U2NEVuY29kZShzdHIpLnJlcGxhY2UoL1xcbi9nLCAnJyk7XG4gICAgfVxuXG4gICAgdmFyIHNob3dSdWxlTGlzdCA9IFtdO1xuICAgIC8vIHNldEVycm9yKEpTT04uc3RyaW5naWZ5KHJlbW90ZVJ1bGVzKSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdGVSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaiA9IHJlbW90ZVJ1bGVzW2ldO1xuICAgICAgICB2YXIgcnVsZVdpdGhNYXBwaW5nID0gZ2V0UnVsZUluUnVsZXNXaXRoTWFwcGluZyhyZW1vdGVSdWxlcywgaik7XG4gICAgICAgIGlmIChydWxlV2l0aE1hcHBpbmcgIT0gbnVsbCAmJiBnZXRSdWxlSW5SdWxlc1dpdGhNYXBwaW5nKG15UnVsZXMsIGopKSBqID0gcnVsZVdpdGhNYXBwaW5nO1xuICAgICAgICB2YXIgciA9IHt9O1xuICAgICAgICBpZiAoc2V0dGluZ3MubmVlZENoYW5nZVNob3dUeXBlID09IHRydWUgJiYgai5vbGRWZXJzaW9uICE9IG51bGwgJiYgai5vbGRWZXJzaW9uID49IGoudmVyc2lvbiAmJiByZW1vdGVSdWxlcy5sZW5ndGggPiBzZXR0aW5ncy5zaG93RnVsbFRleHRNYXgpXG4gICAgICAgICAgICByLmNvbF90eXBlID0gc2V0dGluZ3Mub3Zlck1heFNob3dUeXBlO1xuICAgICAgICBpZiAoKHNldHRpbmdzLm5vSWdub3JlVXBkYXRlICE9IHRydWUgJiYgai5pc0lnbm9yZVVwZGF0ZSA9PSB0cnVlKSAmJiAoai5vbGRWZXJzaW9uID09IG51bGwgfHwgai5vbGRWZXJzaW9uIDwgai52ZXJzaW9uKSkge1xuICAgICAgICAgICAgZGVwb3RSdWxlc1N0YXR1cy5pZ25vcmVOdW0gKz0gMTtcbiAgICAgICAgICAgIHIuZGVzYyA9IFwi6K+l6KeE5YiZ5bey5b+955Wl5pys5qyh5pu05pawXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByLmRlc2MgPSBkZXNjKG15UnVsZXMsIGopO1xuICAgICAgICB9XG4gICAgICAgIHIuZGVzYyA9IHIuZGVzYyArIChcbiAgICAgICAgICAgIGoudGlwcyAhPSBudWxsICYmIGoudGlwcyAhPSBcIlwiID9cbiAgICAgICAgICAgICAgICBlbnRlclRleHQgKyBcIlRpcHM6IFwiICsgai50aXBzIDpcbiAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICk7XG4gICAgICAgIHIudGl0bGUgPSBqLm1hcHBpbmdUaXRsZSAhPSBudWxsICYmIGoubWFwcGluZ1RpdGxlICE9IFwiXCIgJiYgai5pc01hcHBlZCA9PSB0cnVlID9cbiAgICAgICAgICAgIGoubWFwcGluZ1RpdGxlXG4gICAgICAgICAgICA6IGoudGl0bGU7XG4gICAgICAgIHIudXJsID0gai52ZXJzaW9uIDwgMCA/XG4gICAgICAgICAgICBqLnJ1bGUgfHwgXCJcIlxuICAgICAgICAgICAgOiBpc0luQXJyYXkobXlSdWxlcywgaikgfHwgai5pc01hcHBlZCA9PSB0cnVlID9cbiAgICAgICAgICAgICAgICAoai5vbGRWZXJzaW9uICE9IG51bGwgJiYgai5vbGRWZXJzaW9uIDwgai52ZXJzaW9uID9cbiAgICAgICAgICAgICAgICAgICAgKGoucnVsZSB8fCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICA6IChcImhpa2VyOi8vaG9tZUBcIiArIChqLmxvY2FsVGl0bGUgIT0gbnVsbCAmJiBqLmxvY2FsVGl0bGUgIT0gXCJcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICBqLmxvY2FsVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogai50aXRsZSkpKVxuICAgICAgICAgICAgICAgIDogKGoucnVsZSB8fCBcIlwiKTtcbiAgICAgICAgLy9yLmNvbnRlbnQgPSBqLnVwZGF0ZVRleHQ7XG4gICAgICAgIHNob3dSdWxlTGlzdC5wdXNoKHIpO1xuXG4gICAgICAgIHZhciBydWxlSW5SZW1vdGUgPSBnZXRSdWxlSW5SZW1vdGUoaik7XG4gICAgICAgIGlmIChydWxlSW5SZW1vdGUgIT1udWxsICkge1xuICAgICAgICAgICAgaWYoai5vbGRWZXJzaW9uICE9IG51bGwgJiYgai5vbGRWZXJzaW9uIDwgai52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlTGlzdC5wdXNoKHJ1bGVJblJlbW90ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbXBvcnRMaXN0LnB1c2gocnVsZUluUmVtb3RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1cGRhdGVMaXN0Lmxlbmd0aCAhPSAwKSB7XG4gICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogXCLigJjigJjigJnigJk8Yj5b6Ieq5Yqo55Sf5oiQXeeCueWHu+S4gOmUruabtOaWsOacrOmhtTwvYj5cIixcbiAgICAgICAgICAgIHVybDogZ2VuZXJhdGVIb21lUnVsZXNVcmwodXBkYXRlTGlzdCwgdXBkYXRlTGlzdEZpbGUpLFxuICAgICAgICAgICAgY29sX3R5cGU6IFwidGV4dF8xXCIsXG4gICAgICAgICAgICBkZXNjOiBcIuabtOaWsOKAmOKAmOS4jeW9seWTjeWOn+WIhue7hOKAmeKAme+8jOatpOmhueeUseaAu+S7k+W6k+iHquWKqOeUn+aIkOKAmOKAmCjlrp7pqozmgKflip/og70p4oCZ4oCZXFxuXFxu5rOoOiDku4XmlK/mjIHlr7zlhaXpppbpobXop4TliJnvvIzlhbbku5bor7foh6rooYzlr7zlhaXvvIFcIlxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaW1wb3J0TGlzdC5sZW5ndGggIT0gMCkge1xuICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6IFwiW+iHquWKqOeUn+aIkF3ngrnlh7vkuIDplK7lr7zlhaXmnKzpobVcIixcbiAgICAgICAgICAgIHVybDogZ2VuZXJhdGVIb21lUnVsZXNVcmwoaW1wb3J0TGlzdCwgaW1wb3J0TGlzdEZpbGUpLFxuICAgICAgICAgICAgY29sX3R5cGU6IFwicGljXzFcIixcbiAgICAgICAgICAgIGRlc2M6IFwi5q2k6aG555Sx5oC75LuT5bqT6Ieq5Yqo55Sf5oiQ4oCY4oCYKOWunumqjOaAp+WKn+iDvSnigJnigJlcXG5cXG7ms6g6IOS7heaUr+aMgeWvvOWFpemmlumhteinhOWIme+8jOWFtuS7luivt+iHquihjOWvvOWFpe+8gVwiXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzZXR0aW5ncy5ub1J1bGVzTnVtICE9IHRydWUgJiYgc2V0dGluZ3MuaGlkZUFsbCAhPSB0cnVlKVxuICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6IFwiPGI+6K+l5LuT5bqT5YWx5pyJIOKAmOKAmFwiICsgcmVtb3RlUnVsZXMubGVuZ3RoICsgXCLigJnigJkg5p2h6KeE5YiZPC9iPlwiICtcbiAgICAgICAgICAgICAgICBcIiAoXCJcbiAgICAgICAgICAgICAgICArIFwi5pu05pawOuKAmOKAmFwiICsgZGVwb3RSdWxlc1N0YXR1cy51cGRhdGVOdW1cbiAgICAgICAgICAgICAgICArIFwi4oCZ4oCZICDmnKrlr7zlhaU64oCY4oCYXCIgKyBkZXBvdFJ1bGVzU3RhdHVzLm5vSW1wb3J0TnVtXG4gICAgICAgICAgICAgICAgKyBcIuKAmeKAmSAg5b+955WlOuKAmOKAmFwiICsgZGVwb3RSdWxlc1N0YXR1cy5pZ25vcmVOdW1cbiAgICAgICAgICAgICAgICArIFwi4oCZ4oCZKVwiLFxuICAgICAgICAgICAgY29sX3R5cGU6IFwidGV4dF8xXCIsXG4gICAgICAgIH0pO1xuXG4gICAgd2hpbGUgKHNob3dSdWxlTGlzdC5sZW5ndGgpIGQucHVzaChzaG93UnVsZUxpc3Quc2hpZnQoKSlcbn1cblxucmVzLmRhdGEgPSBkO1xuc2V0SG9tZVJlc3VsdChyZXMpOyIsInNlYXJjaF91cmwiOiJoaWtlcjovL2hvbWUjKiojZnlwYWdlIiwidGl0bGVDb2xvciI6IiNmZmYyMGMwMCIsImdyb3VwIjoiMO+4j+KDo+S7k+W6k+mbhuWQiCIsInNlYXJjaEZpbmQiOiJqczpcblxuLyoqXG4gICog5YiG57G75LuT5bqT6KaB55So5pCc57Si5Yqf6IO977yMXG4gICog6K+l5LuT5bqT566h55CG5ZGY5b+F6aG76Ieq6KGM5Zyo5LiL5pa5c2V0dGluZ3MuYXV0aG9yTGlzdOmFjee9ruWIhuexu+mTvuaOpVxuICAqL1xuXG52YXIgcmVzID0ge307XG52YXIgZCA9IFtdO1xuZXZhbChnZXRDcnlwdG9KUygpKTtcbnZhciBrZXkgPSBnZXRVcmwoKS5zcGxpdChcIiNcIilbMV07XG4vLyBrZXkgPSBcIuW9seinhlwiO1xudmFyIHBhZ2UgPSAxO1xudHJ5IHsgXG4gICBwYWdlID0gcGFyc2VJbnQoZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzJdKTtcbn1cbmNhdGNoIChlKSB7IH1cbnZhciBwYWdlU2l6ZSA9IHBhZ2UgKiA1O1xuLypkLnB1c2goe1xuICAgIHRpdGxlOiBcInBhZ2U6IFwiICsgcGFnZSxcbiAgICBkZXNjOiBcInBhZ2VTaXplOiBcIisgcGFnZVNpemUgKyBcIiBwYWdlQWRkOiBcIisgcGFnZUFkZFxufSk7Ki9cblxuaWYgKGtleSAhPSBudWxsICYmIGtleSAhPSBcIlwiKSB7XG4gICAgdmFyIHJlZ0V4cCA9IG5ldyBSZWdFeHAoXCJbXl0qXCIra2V5K1wiW15dKlwiKTtcbiAgICAvLyDku5PlupPkuKrmgKforr7nva5cbiAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgIC8vIOWcqOi/memHjOa3u+WKoOS7k+W6k+mFjee9ru+8jOWPr+S9v+acrOWcsOa3u+WKoOeahOS7k+W6k+e9rumhtlxuICAgICAgICBhdXRob3JMaXN0OiBbXG4gICAgICAgICAgIC8vIFwiW+S+i+WtkF3nva7pobbnp4Hkurrku5PlupNAQFJlYm9ybl8wQEBIaWtlclJ1bGVzUHJpdmFjeUBAYWNjZXNzX3Rva2VuPScqKioqJ1wiLFxuICAgICAgICAgICAvLyBcIlvkvovlrZBd6Ieq5a6a5LmJ5paH5Lu25ZCNQEBSZWJvcm5fMEBASGlrZXJSdWxlc0RlcG90QEByZW1vdGVGaWxlbmFtZT0ndXBkYXRlXzEuanNvbidcIlxuICAgICAgICBdLFxuICAgICAgICAvLyDlnKjov5nph4zmt7vliqDku5PlupPphY3nva7vvIzlj6/kvb/mnKzlnLDmt7vliqDnmoTku5PlupPnva7lupVcbiAgICAgICAgYXV0aG9yTGlzdEJvdHRvbTogW1xuICAgICAgICAgICAvLyBcIlvkvovlrZBd572u5bqV5pys5Zyw5LuT5bqTQEBSZWJvcm5fMEBASGlrZXJSdWxlc1ByaXZhY3lcIlxuICAgICAgICBdLFxuICAgIH07XG5cbiAgICAvLyDkvLzkuY7liqDkuobkuYvlkI7mhaLkuoblvojlpJpcbiAgICB2YXIgcnVsZVJlZyA9IG5ldyBSZWdFeHAoL3tbXl0qLyk7XG4gICAgZnVuY3Rpb24gZ2V0UnVsZUtleVdvcmQocmVtb3RlUnVsZSkge1xuICAgICAgICB2YXIgcmVtb3RlUnVsZVJ1bGUgPSBudWxsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBldmFsKFwicmVtb3RlUnVsZVJ1bGU9XCIgKyBiYXNlNjREZWNvZGUocmVtb3RlUnVsZS5ydWxlLnJlcGxhY2UoXCJydWxlOi8vXCIsIFwiXCIpKS5tYXRjaChydWxlUmVnKVswXSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIHZhciByZW1vdGVSdWxlS2V5V29yZCA9IG51bGw7XG4gICAgICAgICAgICBpZihyZW1vdGVSdWxlUnVsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZUtleVdvcmQgPSByZW1vdGVSdWxlUnVsZS50aXRsZSArIHJlbW90ZVJ1bGVSdWxlLnVybCArIHJlbW90ZVJ1bGVSdWxlLmF1dGhvcjtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHJlbW90ZVJ1bGVLZXlXb3JkID09IG51bGwpIHJlbW90ZVJ1bGVLZXlXb3JkID0gcmVtb3RlUnVsZS50aXRsZTtcbiAgICAgICAgICAgIHJldHVybiByZW1vdGVSdWxlS2V5V29yZDtcbiAgICB9XG5cbiAgICAvLyDmkJzntKLop6PmnpDmgJ3ot6/vvJpcbiAgICAvLyDojrflj5bmkJzntKLpk77mjqXkuK3nmoQqKu+8jOeEtuWQjuW+queOr+mBjeWOhuavj+S4gOS4quS7k+W6k+eahOinhOWIme+8jOato+WImeaooeeziuWMuemFjeWIsOS4jeS4uuepuueahOWwseWKoOWFpeaQnOe0oue7k+aenFxuICAgIHZhciByZW1vdGVBdXRob3JMaXN0ID0gW107XG4gICAgdHJ5IHtcbiAgICAgICAgZXZhbChcInJlbW90ZUF1dGhvckxpc3Q9XCIgKyBmZXRjaChzZXR0aW5ncy5yZW1vdGVBdXRob3JMaXN0VXJsLCB7fSkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICB9XG4gICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2V0dGluZ3MuYXV0aG9yTGlzdCwgcmVtb3RlQXV0aG9yTGlzdCk7XG4gICAgaWYgKHNldHRpbmdzLmF1dGhvckxpc3RCb3R0b20ubGVuZ3RoICE9IDApIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHNldHRpbmdzLmF1dGhvckxpc3QsIHNldHRpbmdzLmF1dGhvckxpc3RCb3R0b20pO1xuXG4gICAgLy8g56m66Ze05o2i5pe26Ze0LCBuXjItPjJu77yf6Jm954S2QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHnlj6/og73kuZ/mmK/kuIDkuKpu77yf77yI5L2T6aqM5LiK5rKh5oSf6KeJ5b+r5aSa5bCR77yM5q+V56uf6YKj5LiqZmV0Y2jlpKrlpJrkuoYuLi7vvIlcbiAgICB2YXIgbVJlbW90ZVJ1bGVzID0gW107XG4gICAgLy8gMS7mi7/liLDku5PlupNcbiAgICBmb3IgKHZhciBpID0gKHBhZ2UtMSkgKiA1OyBpIDwgc2V0dGluZ3MuYXV0aG9yTGlzdC5sZW5ndGggJiYgaSA8IHBhZ2VTaXplOyBpKyspIHtcbiAgICAgICAvLyBpZiAoaSA8IHBhZ2VTaXplKSBicmVhaztcbiAgICAgICAgdmFyIGF1dGhvckxpc3QgPSBzZXR0aW5ncy5hdXRob3JMaXN0W2ldO1xuICAgICAgICB2YXIgYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0ID0gYXV0aG9yTGlzdC5zcGxpdChcIkBAXCIpO1xuICAgICAgICB2YXIgYXV0aG9yID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzBdO1xuICAgICAgICB2YXIgcmVtb3RlVXJsID0gXCJcIjtcblxuICAgICAgICB2YXIgYXBpVHlwZSA9IFwiMVwiOyAgLy8gMCDkuLrmlofku7bnm7Tpk77vvIwxIOS4uueggeS6kUFQSVxuICAgICAgICB2YXIgYXBpVHlwZUpTID0gYXV0aG9yTGlzdC5tYXRjaCgvYXBpVHlwZT0uW1xcc1xcU10qPycvKSArIFwiO1wiO1xuICAgICAgICBldmFsKGFwaVR5cGVKUyk7XG4gICAgICAgIGlmIChhcGlUeXBlID09IG51bGwpIGFwaVR5cGUgPSBcIjFcIjtcblxuICAgICAgICBpZiAoYXBpVHlwZSA9PSBcIjBcIikge1xuICAgICAgICAgICAgdmFyIGZ1bGxVcmwgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGZ1bGxVcmxKUyA9IGF1dGhvckxpc3QubWF0Y2goL2Z1bGxVcmw9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbiAgICAgICAgICAgIGV2YWwoZnVsbFVybEpTKTtcbiAgICAgICAgICAgIHJlbW90ZVVybCA9IGZ1bGxVcmw7XG4gICAgICAgIH0gZWxzZSBpZiAoYXBpVHlwZSA9PSBcIjFcIikge1xuICAgICAgICAgICAgdmFyIHJlbW90ZUFwaUhvbWUgPSBcImh0dHBzOi8vZ2l0ZWUuY29tL2FwaS92NS9yZXBvcy9cIjtcbiAgICAgICAgICAgIHZhciBvd25lciA9IGF1dGhvckFuZE93bmVyQW5kUHJvamVjdFsxXTsgICAvLyDku5PlupPmi6XmnInogIVcbiAgICAgICAgICAgIHZhciByZXBvID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzJdOyAvLyDku5PlupPlkI1cbiAgICAgICAgICAgIHZhciByZW1vdGVGaWxlbmFtZSA9IG51bGw7IC8vIOaWh+S7tuWQjVxuICAgICAgICAgICAgdmFyIHBhdGggPSByZW1vdGVGaWxlbmFtZTsgIC8vIOWcqOS7k+W6k+S4reaWh+S7tueahOi3r+W+hFxuICAgICAgICAgICAgdmFyIGFjY2Vzc190b2tlbiA9IG51bGw7ICAvLyDnlKjmiLfmjojmnYPnoIHvvIzlnKjnoIHkupFcIuiuvue9ruKAlD7lronlhajorr7lrpotPuS4quS6uuiuv+mXruS7pOeJjFwi5Lit5Y+v5Lul55Sf5oiQXG4gICAgICAgICAgICB2YXIgdG9rZW5KUyA9IGF1dGhvckxpc3QubWF0Y2goL2FjY2Vzc190b2tlbj0uW1xcc1xcU10qPycvKSArIFwiO1wiO1xuICAgICAgICAgICAgZXZhbCh0b2tlbkpTKTtcbiAgICAgICAgICAgIC8vIHNldEVycm9yKGFjY2Vzc190b2tlbj09bnVsbCk7XG4gICAgICAgICAgICB2YXIgcmVtb3RlRmlsZW5hbWVKUyA9IGF1dGhvckxpc3QubWF0Y2goL3JlbW90ZUZpbGVuYW1lPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgICAgICAgICBldmFsKHJlbW90ZUZpbGVuYW1lSlMpO1xuICAgICAgICAgICAgaWYgKHJlbW90ZUZpbGVuYW1lID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZW1vdGVGaWxlbmFtZSA9IFwidXBkYXRlLmpzb25cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhdGggPSByZW1vdGVGaWxlbmFtZTtcbiAgICAgICAgICAgIC8vIHNldEVycm9yKHJlbW90ZUZpbGVuYW1lKVxuICAgICAgICAgICAgLy8gQVBJ6ZO+5o6l5Y+C6ICD77yaaHR0cHM6Ly9naXRlZS5jb20vYXBpL3Y1L3JlcG9zL3t7b3duZXJ9fS97e3JlcG99fS9jb250ZW50cy97e3BhdGh9fT9hY2Nlc3NfdG9rZW49KioqKlxuICAgICAgICAgICAgcmVtb3RlVXJsID0gcmVtb3RlQXBpSG9tZSArIG93bmVyICsgXCIvXCIgKyByZXBvICsgXCIvY29udGVudHMvXCIgKyBwYXRoO1xuICAgICAgICAgICAgaWYgKGFjY2Vzc190b2tlbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVtb3RlVXJsID0gcmVtb3RlVXJsICsgXCI/YWNjZXNzX3Rva2VuPVwiICsgYWNjZXNzX3Rva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2V0RXJyb3IocmVtb3RlVXJsKTtcbiAgICAgICAgICAgIC8vIHZhciByZW1vdGVIb21lID0gXCJodHRwczovL2dpdGVlLmNvbS9cIiArIG93bmVyICsgXCIvXCIgKyByZXBvICsgXCIvYmxvYi9tYXN0ZXIvdXBkYXRlLmpzb25cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhciByZW1vdGVVcmwgPSByZW1vdGVBcGlIb21lICsgZW5jb2RlVVJJQ29tcG9uZW50KGF1dGhvcikgKyBcIi9cIiArIHJlbW90ZUZpbGVuYW1lO1xuICAgICAgICB2YXIgcmVtb3RlU291cmNlID0gZmV0Y2gocmVtb3RlVXJsLCB7fSk7XG4gICAgICAgIC8vIHNldEVycm9yKHJlbW90ZVVybCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBldmFsKFwicmVtb3RlU291cmNlPVwiICsgcmVtb3RlU291cmNlKTtcbiAgICAgICAgICAgIHZhciByZW1vdGVSdWxlcyA9IHJlbW90ZVNvdXJjZTtcbiAgICAgICAgICAgIGlmIChhcGlUeXBlID09IFwiMFwiKSB7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFwaVR5cGUgPT0gXCIxXCIpIHtcbiAgICAgICAgICAgICAgICBldmFsKFwicmVtb3RlUnVsZXM9XCIgKyBiYXNlNjREZWNvZGUocmVtb3RlU291cmNlLmNvbnRlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZW1vdGVSdWxlcy5kYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShtUmVtb3RlUnVsZXMsIHJlbW90ZVJ1bGVzLmRhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShtUmVtb3RlUnVsZXMsIHJlbW90ZVNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKmlmKG1SZW1vdGVSdWxlcy5sZW5ndGggPCBwYWdlICogOCkge1xuICAgICAgICAgICAgICAgICBwYWdlKys7XG4gICAgICAgICAgICAgICAgIHBhZ2VTaXplID0gcGFnZSAqIDU7XG4gICAgICAgICAgICAgICAgIHBhZ2VBZGQrKztcbiAgICAgICAgICAgICAgICAgcHV0VmFyKHtrZXk6ICdwYWdlQWRkJywgdmFsdWU6IHBhZ2VBZGR9KTtcbiAgICAgICAgICAgIH0qL1xuICAgICAgICB9Y2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAyLuaLv+WIsOWNleS4quS7k+W6k+eahOinhOWImeWIl+ihqFxuICAgIGlmIChtUmVtb3RlUnVsZXMubGVuZ3RoICE9IDApIHtcbiAgICAgICAgLy8g5o2i5Liq6ZSk5a2Q55qE5LqM5YiG5rOV77yM5LiA5a6a6KaB6YGN5Y6G5omA5pyJ5pWw5o2u55qE77yM6L+Z5qC36aG25aSa5pivTygxLzIgbinvvIzlv73nlaXluLjmlbDov5jmmK9PKG4p77yM56Gu5a6e5Lya5b+r5LiA5Lii5Lii77yM56m66Ze05o2i5pe26Ze055qE57uT5p6cXG4gICAgICAgIHZhciBsZWZ0ID0gMDtcbiAgICAgICAgdmFyIHJpZ2h0ID0gbVJlbW90ZVJ1bGVzLmxlbmd0aCAtIDE7XG4gICAgICAgIHdoaWxlIChsZWZ0IDw9IHJpZ2h0KSB7XG4gICAgICAgICAgICB2YXIgcmVtb3RlUnVsZUxlZnQgPSBtUmVtb3RlUnVsZXNbbGVmdF07XG4gICAgICAgICAgICB2YXIgcmVtb3RlUnVsZVJpZ2h0ID0gbVJlbW90ZVJ1bGVzW3JpZ2h0XTtcbiAgICAgICAgICAgIGlmIChyZWdFeHAudGVzdChnZXRSdWxlS2V5V29yZChyZW1vdGVSdWxlTGVmdCkpID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcmVtb3RlUnVsZUxlZnQudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL2JhaWR1LmNvbSNcIiArIHJlbW90ZVJ1bGVMZWZ0LnJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IHJlbW90ZVJ1bGVMZWZ0LmF1dGhvcixcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCLkupHnq6/niYjmnKzvvJpcIiArIHJlbW90ZVJ1bGVMZWZ0LnZlcnNpb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWdFeHAudGVzdChnZXRSdWxlS2V5V29yZChyZW1vdGVSdWxlUmlnaHQpKSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlbW90ZVJ1bGVSaWdodC50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vYmFpZHUuY29tI1wiICsgcmVtb3RlUnVsZVJpZ2h0LnJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IHJlbW90ZVJ1bGVSaWdodC5hdXRob3IsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwi5LqR56uv54mI5pys77yaXCIgKyByZW1vdGVSdWxlUmlnaHQudmVyc2lvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGVmdCsrO1xuICAgICAgICAgICAgcmlnaHQtLTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuaWYoKHBhZ2UpICogNSA8IHNldHRpbmdzLmF1dGhvckxpc3QubGVuZ3RoKSB7XG4gICAgaWYoZC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICB0aXRsZTogXCLmsqHliqDovb3liLDkuJzopb/vvJ/kuI3opoHntKfvvIzkuIrmu5Hlj6/og73mnInmg4rllpzlk6bvvIFcIixcbiAgICAgICAgICAgICBkZXNjOiBcIlBTOiDlj6ropoHmsqHmmL7npLrmnIDlkI7kuIDpobXlsLHov5jmnInluIzmnJvvvIFcIlxuICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgdGl0bGU6IFwi5pyq5Yiw5pyA5ZCO5LiA6aG177yM6K+357un57ut5LiK5ruR5Yqg6L295pu05aSa44CCXCJcbiAgICAgICAgIH0pO1xuICAgIH1cbn0gZWxzZSB7XG4gICAgIGQucHVzaCh7XG4gICAgICAgICB0aXRsZTogXCLlt7LliLDmnIDlkI7kuIDpobVcIlxuICAgICB9KTtcbn1cblxuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoZCkpO1xucmVzLmRhdGEgPSBkO1xuc2V0U2VhcmNoUmVzdWx0KHJlcyk7IiwiZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsImRldGFpbF9maW5kX3J1bGUiOiIiLCJzZGV0YWlsX2NvbF90eXBlIjoidGV4dF9jZW50ZXJfMSIsInNkZXRhaWxfZmluZF9ydWxlIjoianM6XG52YXIgcmVzID0ge307XG52YXIgZCA9IFtdO1xuXG52YXIgcnVsZSA9IGdldFVybCgpLnNwbGl0KFwiI1wiKVsxXTtcbmlmKHJ1bGUgIT0gbnVsbCAmJiBydWxlICE9IFwiXCIpIHtcbiAgICAgZC5wdXNoKHtcbiAgICAgICAgICB0aXRsZTogXCLnq4vljbPlr7zlhaXop4TliJlcIixcbiAgICAgICAgICB1cmw6IHJ1bGVcbiAgICAgfSk7XG59XG5cbnJlcy5kYXRhID0gZDtcbnNldEhvbWVSZXN1bHQocmVzKTsifQ=="
    },
    {
      "title": "剧汇TV•Re",
      "author": "Reborn",
      "version": 0,
      "tips": "码云仓库已恢复",
      "rule": "rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77yMUmVib3Ju77+laG9tZV9ydWxl77+leyJmaXJzdEhlYWRlciI6ImNsYXNzIiwidGl0bGUiOiLliafmsYdUVuKAolJlIiwiYXV0aG9yIjoiUmVib3JuIiwidXJsIjoiaHR0cHM6Ly9hcGkuMzY1a3F6cy5jbjo0OTc2L2FwaS9wcm9ncmFtbWVzP2xpbWl0PTIxJnBhZ2U9ZnlwYWdlQC0xQCZzb3J0PWZ5eWVhciZmeWNsYXNzJmxvY2F0aW9uPWZ5YXJlYTtnZXQ7dXRmLTg7e0RldmljZS1JREAxMDAwMDAwMC01YzU4LWI1NTQtMDAwMC0wMDAwMTE3M2VmYWYmJlVzZXItQWdlbnRALmpzOidWaWV3ZXIvMS40LjUgQW5kcm9pZC81LjEuMSBQaG9uZS9zYW1zdW5nLVNNLU45NzYwJ30iLCJ2ZXJzaW9uIjowLCJjb2xfdHlwZSI6Im1vdmllXzMiLCJjbGFzc19uYW1lIjoi5YWo6YOoJueUteinhuWJpybnlLXlvbEmVFbliqjmvKsm5Yqo5ryr55S15b2xJue7vOiJuibnuqrlvZXniYciLCJjbGFzc191cmwiOiImY2F0ZWdvcnk9NWQyZDYxNjZlYmEzZTUwMDE2NjE3YzkyJmNhdGVnb3J5PTVkMmQ2MTZhZWJhM2U1MDAxNjYxN2M5MyZjYXRlZ29yeT01ZTIzYmNlZDMyMDQzMDAwMjlhMmJkMjImY2F0ZWdvcnk9NWU0YzlmMTg4ZTFmNTAwMDM1MjMwMDgwJmNhdGVnb3J5PTVlYjM2ZWM1Y2Q1ZjEwMDA0MWM5NDQ3MiZjYXRlZ29yeT01ZWIzNmVkMGNkNWYxMDAwNDFjOTQ0NzUiLCJhcmVhX25hbWUiOiLlhajpg6gm5Lit5Zu95aSn6ZmGJuS4reWbvea4r+WPsCbmrKfnvo4m5pel5pysJumfqeWbvSbljbDluqYm5rOw5Zu9JuWFtuS7liIsImFyZWFfdXJsIjoiJuS4reWbveWkp+mZhibkuK3lm73muK/lj7Am5qyn576OJuaXpeacrCbpn6nlm70m5Y2w5bqmJuazsOWbvSblhbbku5YiLCJ5ZWFyX25hbWUiOiLmnIDmlrAm5pyA54OtIiwieWVhcl91cmwiOiJuZXcmaG90IiwiZmluZF9ydWxlIjoianM6IHZhciBqc29uID0ge307XHJcbmV2YWwoJ2pzb249JyArIGdldFJlc0NvZGUoKSk7XHJcbnZhciByZXMgPSB7fTtcclxudmFyIGQgPSBbXTtcclxuZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uLmRhdGEucHJvZ3JhbW1lcy5sZW5ndGg7IGkrKykge1xyXG4gdmFyIHIgPSB7fTtcclxuIHZhciBqID0ganNvbi5kYXRhLnByb2dyYW1tZXNbaV07XHJcbiByLnRpdGxlID0gai50aXRsZTtcbiBpZiAoai51cGRhdGVTdGF0ZSA9PSAyKVxuIHIuZGVzYyA9ICflhagnICsgai5yZXNvdXJjZUNvdW50ICsgJ+mbhic7XG4gZWxzZVxuIHIuZGVzYyA9ICfmm7TmlrDliLAnICsgai5yZXNvdXJjZUNvdW50ICsgJ+mbhic7XHJcbiByLnBpY191cmwgPSBqLnZlcnRpY2FsQ292ZXI7XHJcbiByLnVybCA9ICdodHRwczovL2FwaXMuMzY1a3F6cy5jbi9hcGkvcHJvZ3JhbW1lcy8nICsgai5pZCsnJztcclxuIGlmIChyLnRpdGxlICE9PSBudWxsICYmIHIudGl0bGUgIT09IHVuZGVmaW5lZCAmJiByLnRpdGxlICE9PSAnJykgZC5wdXNoKHIpO1xyXG59XHJcbnJlcy5kYXRhID0gZDtcclxuc2V0SG9tZVJlc3VsdChyZXMpOyIsInNlYXJjaF91cmwiOiJodHRwczovL2FwaS4zNjVrcXpzLmNuOjQ5NzYvYXBpL3Byb2dyYW1tZXM/bGltaXQ9MjEmcGFnZT1meXBhZ2VALTFAJnNlYXJjaD0qKiZzb3J0PW1hdGNoO2dldDt1dGYtODt7RGV2aWNlLUlEQDIwMDAwMDAwLTVjNTgtYjU1NC0wMDAwLTAwMDAxMTczZWZhZiYmVXNlci1BZ2VudEAuanM6J1ZpZXdlci8xLjQuNSBBbmRyb2lkLzUuMS4xIFBob25lL3NhbXN1bmctU00tTjk3Nid9IiwidGl0bGVDb2xvciI6IiM2NzNBQjciLCJncm91cCI6IjHvuI/ig6Pwn5SO5b2x6KeG5YWN5ZeF5o6iIiwic2VhcmNoRmluZCI6ImpzOiB2YXIganNvbiA9IGdldFJlc0NvZGUoKTtcclxudmFyIGZpcmVzID0ge307XHJcbnZhciByZXNKc29uID0ge307XHJcbmV2YWwoJ3Jlc0pzb249JyArIGpzb24pO1xyXG52YXIgcmVzID0gW107XHJcbmlmIChyZXNKc29uLmRhdGEucHJvZ3JhbW1lcy5sZW5ndGggPD0gMCkge1xyXG4gZmlyZXMuZGF0YSA9IFtdO1xyXG4gc2V0U2VhcmNoUmVzdWx0KGZpcmVzKTtcclxufSBlbHNlIHtcclxuIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzSnNvbi5kYXRhLnByb2dyYW1tZXMubGVuZ3RoOyBpKyspIHtcclxuIHZhciBtbyA9IHJlc0pzb24uZGF0YS5wcm9ncmFtbWVzW2ldO1xyXG4gdmFyIHIgPSB7fTtcclxuIHIudGl0bGUgPSBtby50aXRsZTtcclxuIHIudXJsID0gJ2h0dHBzOi8vYXBpcy4zNjVrcXpzLmNuL2FwaS9wcm9ncmFtbWVzLycgKyBtby5pZDtcclxuIGlmIChtby51cGRhdGVTdGF0ZSA9PSAyKVxuIHIuZGVzYyA9ICflhagnICsgbW8ucmVzb3VyY2VDb3VudCArICfpm4YnO1xyXG4gZWxzZVxyXG4gci5kZXNjID0gJ+abtOaWsOWIsCcgKyBtby5yZXNvdXJjZUNvdW50ICsgJ+mbhic7XHJcbiByLmNvbnRlbnQgPSBtby5zdW1tYXJ5O1xyXG4gci5pbWcgPSBtby52ZXJ0aWNhbENvdmVyO1xyXG4gcmVzLnB1c2gocik7XHJcbiB9XHJcbiBmaXJlcy5kYXRhID0gcmVzO1xyXG4gc2V0U2VhcmNoUmVzdWx0KGZpcmVzKTtcclxufSIsImRldGFpbF9jb2xfdHlwZSI6InRleHRfMiIsImRldGFpbF9maW5kX3J1bGUiOiJqczpcbi8vc2V0RXJyb3IoZ2V0UmVzQ29kZSgpKTtcblxyXG52YXIgcmVzID0ge307XHJcbnZhciByZXN1bHQgPSBbXTtcblxuLy8g5re75Yqg5o+S5Lu25YaF5a65XG52YXIgZmlsZVVybCA9IFwiaHR0cHM6Ly9naXRlZS5jb20vUmVib3JuXzAvSGlrZXJSdWxlcy9yYXcvcm9vdC9KdUh1aVRWX1JlX0ZpbmRSdWxlX3YyLm1pbi5qc1wiO1xuZXZhbChmZXRjaChmaWxlVXJsLHt9KSk7XG5cbnJlcy5kYXRhPXJlc3VsdDtcbnNldEhvbWVSZXN1bHQocmVzKTsiLCJzZGV0YWlsX2NvbF90eXBlIjoidGV4dF8yIiwic2RldGFpbF9maW5kX3J1bGUiOiIqIn0="
    },
    {
      "title": "哔咪哔咪•Re",
      "author": "Reborn",
      "version": 0,
      "tips": "一个动漫网站",
      "rule": "rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77yMUmVib3Ju77+laG9tZV9ydWxl77+leyJ0aXRsZSI6IuWTlOWSquWTlOWSquKAolJlIiwiYXV0aG9yIjoiUmVib3JuIiwidXJsIjoiaHR0cDovL3d3dy5iaW1pYmltaS5tZS92b2RzaG93L2Z5Y2xhc3MtLWZ5eWVhci1meWFyZWEtLS0tLWZ5cGFnZS0tLS8iLCJ2ZXJzaW9uIjowLCJjb2xfdHlwZSI6Im1vdmllXzMiLCJjbGFzc19uYW1lIjoi5paw55Wq5pS+6YCBJuWbveS6p+WKqOa8qybnlarnu4TorqHliJIm5Ymn5Zy65Yqo55S7JuW9seinhiIsImNsYXNzX3VybCI6InJpbWFuJmd1b21hbiZmYW56dSZqdWNoYW5nJm1vdmUiLCJhcmVhX25hbWUiOiLlhajpg6gm54Ot6KGAJuWGkumZqSbmkJ7nrJEm5Ymn5oOFJuaBi+eIsSbmoKHlm60m5aWH5bm7JuenkeW5uyIsImFyZWFfdXJsIjoiJueDreihgCblhpLpmakm5pCe56yRJuWJp+aDhSbmgYvniLEm5qCh5ZutJuWlh+W5uybnp5HlubsiLCJ5ZWFyX25hbWUiOiLmjInml7bpl7Qm5oyJ5Lq65rCUJuaMieivhOWIhiIsInllYXJfdXJsIjoidGltZSZoaXRzJnNjb3JlIiwiZmluZF9ydWxlIjoiLnZfdGImJnVsJiZsaTsuaW5mbyYmYSYmVGV4dDtpbWcmJmRhdGEtb3JpZ2luYWw7LmZsJiZUZXh0O2EmJmhyZWYiLCJzZWFyY2hfdXJsIjoiaHR0cDovL3d3dy5iaW1pYmltaS5tZS92b2Qvc2VhcmNoLz93ZD0qKiIsInRpdGxlQ29sb3IiOiIjZmY2NzNhYjciLCJncm91cCI6IjHvuI/ig6Pwn5SO5Yqo5ryr5YWN5ZeF5o6iIiwic2VhcmNoRmluZCI6Ii52X3RiJiZ1bCYmbGk7YSwxJiZUZXh0O2EmJmhyZWY7cCwxJiZUZXh0O3AmJlRleHQ7aW1nJiZkYXRhLW9yaWdpbmFsIiwiZGV0YWlsX2NvbF90eXBlIjoidGV4dF8yIiwiZGV0YWlsX2ZpbmRfcnVsZSI6Ii5wbGF5X3NvdXJjZV90YWImJmE7YSYmVGV4dDsqOyo7Kj09PmJvZHkmJi5wbGF5ZXJfbGlzdCxmeUluZGV4JiZsaTthJiZUZXh0Oyo7KjthJiZocmVmLmpzOmlucHV0KydAbGF6eVJ1bGU9aHRtbO+8hu+8hu+8hu+8hi5wbGF5LXBsYXllcu+8hu+8hu+8hu+8hnNjcmlwdO+8hu+8hu+8hu+8hkh0bWwuanM6ZXZhbChpbnB1dCnvvJvvvJt2YXIgbGluaz1wbGF5ZXJfZGF0YS5saW5rX25leHTvvJvvvJtpZihsaW5rPT11bmRlZmluZWR8bGluaz09XCJcIil7bGluaz1wbGF5ZXJfZGF0YS5saW5rfXZhciBzdWJfc3RyPWxpbmsuc3Vic3RyaW5nKGxpbmsubGVuZ3RoLTIsbGluay5sZW5ndGgtMSnvvJvvvJtsaW5rPWxpbmsuc3Vic3RyaW5nKDAsbGluay5sZW5ndGgtMinvvJvvvJt2YXIgZXBpc29kZT1wYXJzZUludChzdWJfc3RyKe+8m++8m2lmKGVwaXNvZGUhPTEpe2VwaXNvZGUtLX1saW5rKz0oZXBpc29kZStcIi9cIinvvJvvvJt2YXIgaG9zdD1cImh0dHA6Ly93d3cuYmltaWJpbWkubWVcIitsaW5r77yb77ybdmFyIGZldGNoVXJsPVwiaHR0cDovLzQ5LjIzNC41Ni4yNDYvZGFubXUvcGxheS5waHA/dXJsPVwiK3BsYXllcl9kYXRhLnVybCtcIu+8hu+8hm15dXJsPVwiK2hvc3TvvJvvvJt2YXIgcGxheUh0bWzvvJvvvJt2YXIgcGxheVVybO+8m++8m2lmKHBsYXllcl9kYXRhLmZyb209PVwia3p5dW5cInxwbGF5ZXJfZGF0YS5mcm9tPT1cImtzeXVuXCIpe2ZldGNoVXJsPVwiaHR0cDovLzQ5LjIzNC41Ni4yNDYvZGFubXUvXCIrcGxheWVyX2RhdGEuZnJvbStcIi5waHA/dXJsPVwiK3BsYXllcl9kYXRhLnVybCtcIu+8hu+8hm15dXJsPVwiK2hvc3TvvJvvvJtwbGF5SHRtbD1mZXRjaChmZXRjaFVybCx7aGVhZGVyczp7XCJSZWZlcmVyXCI6aG9zdH19Ke+8m++8m3BsYXlVcmxKcz1wbGF5SHRtbC5tYXRjaCgvKHZhciB1cmwpLio/XFwn77yb77ybL2cpWzBd77yb77ybfWVsc2UgaWYocGxheWVyX2RhdGEuZnJvbT09XCJwaWFvcXVhblwiKXtmZXRjaFVybD1cImh0dHA6Ly80OS4yMzQuNTYuMjQ2L2Rhbm11L3BpYW9xdWFuLnBocD91cmw9XCIrcGxheWVyX2RhdGEudXJsK1wi77yG77yGbXl1cmw9XCIraG9zdO+8m++8m3BsYXlIdG1sPWZldGNoKGZldGNoVXJsLHtoZWFkZXJzOntcIlJlZmVyZXJcIjpob3N0fX0p77yb77ybcGxheVVybEpzPXBsYXlIdG1sLm1hdGNoKC8odmFyIHVybCkuKj9cXCfvvJvvvJsvZylbMF3vvJvvvJtpZihwbGF5VXJsSnMuaW5kZXhPZihcIi5tM3U4XCIpPi0xKXtwbGF5VXJsSnM9cGxheVVybEpzLnJlcGxhY2UoL2h0dHBzOlxcXFwvXFxcXC8oLiopY29tLyxcImh0dHBzOi8vcmVzY2RuLnlpc2hpaHVpLmNvbVwiKX19ZWxzZSBpZihwbGF5ZXJfZGF0YS5mcm9tPT1cInp1aWRhbTN1OFwiKXtmZXRjaFVybD1cImh0dHA6Ly80OS4yMzQuNTYuMjQ2L2Rhbm11L20zdTgucGhwP3VybD1cIitwbGF5ZXJfZGF0YS51cmwrXCLvvIbvvIZteXVybD1cIitob3N077yb77ybcGxheUh0bWw9ZmV0Y2goZmV0Y2hVcmwse2hlYWRlcnM6e1wiUmVmZXJlclwiOmhvc3R9fSnvvJvvvJtwbGF5VXJsSnM9cGxheUh0bWwubWF0Y2goLyh2YXIgdXJsKS4qP1xcJ++8m++8my9nKVswXe+8m++8m31lbHNlIGlmKHBsYXllcl9kYXRhLmZyb209PVwiZHBsYXllclwifHBsYXllcl9kYXRhLmZyb209PVwicWl5aVwifHBsYXllcl9kYXRhLmZyb209PVwicXFcIil7cGxheVVybEpzPVwidmFyIHVybD1ob3N0XCJ9ZWxzZXtwbGF5SHRtbD1mZXRjaChmZXRjaFVybCx7aGVhZGVyczp7XCJSZWZlcmVyXCI6aG9zdH19Ke+8m++8m3BsYXlVcmxKcz1wbGF5SHRtbC5tYXRjaCgvKHZhciB1cmwpLio/XFwn77yb77ybL2cpWzBdfWV2YWwocGxheVVybEpzKe+8m++8m3VybCc7dGV4dF8zIiwic2RldGFpbF9jb2xfdHlwZSI6InRleHRfMiIsInNkZXRhaWxfZmluZF9ydWxlIjoiKiJ9"
    },
    {
      "title": "总仓库",
      "author": "Reborn",
      "version": 38,
      "updateText": "1.‘‘修复’’:修复部分无法识别为已导入规则的问题\n2.更多更新日志请点击访问源网页查看",
      "rule": "rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77yMUmVib3Ju77+laG9tZV9ydWxl77+leyJmaXJzdEhlYWRlciI6ImNsYXNzIiwidGl0bGUiOiLmgLvku5PlupMiLCJhdXRob3IiOiJSZWJvcm4iLCJ1cmwiOiJoaWtlcjovL2hvbWUiLCJ2ZXJzaW9uIjozNiwiY29sX3R5cGUiOiJpY29uXzIiLCJjbGFzc19uYW1lIjoiIiwiY2xhc3NfdXJsIjoiIiwiYXJlYV9uYW1lIjoiIiwiYXJlYV91cmwiOiIiLCJ5ZWFyX25hbWUiOiIiLCJ5ZWFyX3VybCI6IiIsImZpbmRfcnVsZSI6ImpzOlxudmFyIHJlcyA9IHt9O1xudmFyIGQgPSBbXTtcbnZhciBtUnVsZSA9IEpTT04ucGFyc2UoZ2V0UnVsZSgpKTtcbmV2YWwoZ2V0Q3J5cHRvSlMoKSk7XG5cbi8vIOS7k+W6k+mFjee9ruacrOWcsOe8k+WtmOaWh+S7tlxudmFyIHNldHRpbmdzQ2FjaGVGaWxlID0gXCJoaWtlcjovL2ZpbGVzL2RlcG90X3YyX3NldHRpbmdzLmpzb25cIjtcbi8vIOacrOWcsOe8k+WtmOW8gOWFs1xudmFyIG5lZWRDYWNoZVNldHRpbmcgPSB0cnVlO1xuXG4vLyDku5PlupPkuKrmgKforr7nva5cbnZhciBzZXR0aW5ncyA9IHtcbiAgICAvLyBiZXRh5rWL6K+V54mI77yM6Iul6KaB5byA5ZCv5rWL6K+V6YCa6YGT6K+36K6+5Li6dHJ1ZVxuICAgIGJldGE6IGZhbHNlLFxuICAgIC8vIOWcqOi/memHjOa3u+WKoOS7k+W6k+mFjee9ru+8jOWPr+S9v+acrOWcsOa3u+WKoOeahOS7k+W6k+e9rumhtlxuICAgIGF1dGhvckxpc3Q6IFtcbiAgICAgICAgXCJb5L6L5a2QXee9rumhtuengeS6uuS7k+W6k0BAUmVib3JuXzBAQEhpa2VyUnVsZXNQcml2YWN5QEBhY2Nlc3NfdG9rZW49JyoqKionXCIsXG4gICAgICAgIFwiW+S+i+WtkF3oh6rlrprkuYnmlofku7blkI1AQFJlYm9ybl8wQEBIaWtlclJ1bGVzRGVwb3RAQHJlbW90ZUZpbGVuYW1lPSd1cGRhdGVfMS5qc29uJ1wiXG4gICAgXSxcbiAgICByZW1vdGVBdXRob3JMaXN0VXJsOiBcImh0dHBzOi8vZ2l0ZWUuY29tL3FpdXN1bnNoaW5lMjMzL2hpa2VyVmlldy9yYXcvbWFzdGVyL3J1bGV2ZXJzaW9uL2F1dGhvckxpc3QuanNvblwiLFxuICAgIC8vIOWcqOi/memHjOa3u+WKoOS7k+W6k+mFjee9ru+8jOWPr+S9v+acrOWcsOa3u+WKoOeahOS7k+W6k+e9ruW6lVxuICAgIGF1dGhvckxpc3RCb3R0b206IFtcbiAgICAgICAgXCJb5L6L5a2QXee9ruW6leacrOWcsOS7k+W6k0BAUmVib3JuXzBAQEhpa2VyUnVsZXNQcml2YWN5XCJcbiAgICBdLFxuICAgIC8vIOWcqOi/memHjOa3u+WKoOmaj+acuuWktOWDj1xuICAgIHBpY1VybExpc3Q6IFtcbiAgICAgICAgXCJodHRwczovL3d3dy5lYXN5aWNvbi5uZXQvYXBpL3Jlc2l6ZUFwaS5waHA/aWQ9MTI3MTYyNCZzaXplPTEyOFwiLFxuICAgICAgICBcImh0dHBzOi8vd3d3LmVhc3lpY29uLm5ldC9hcGkvcmVzaXplQXBpLnBocD9pZD0xMjcxNjQ3JnNpemU9MTI4XCIsXG4gICAgICAgIFwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNjY1MzYmc2l6ZT0xMjhcIixcbiAgICAgICAgXCJodHRwczovL3d3dy5lYXN5aWNvbi5uZXQvYXBpL3Jlc2l6ZUFwaS5waHA/aWQ9MTI3MTY1NSZzaXplPTEyOFwiLFxuICAgIF0sXG4gICAgLy8g6ZqQ6JeP5byA5YWz77yM5LiN6ZyA6KaB6ZqQ6JeP6K+36K6+572u5Li6ZmFsc2VcbiAgICBuZWVkSGlkZVJ1bGU6IHRydWUsXG4gICAgLy8g6Ieq6KGM5re75Yqg6KaB6ZqQ6JeP55qE5qCH6K6w77yM5qC85byP5Li677yaW1wiW+agh+iusOWQjTFdXCLvvIxcIlvmoIforrDlkI0yXVwiLi4uXVxuICAgIGhpZGVTeW1ib2xzOiBbXCJb5qih5p2/XVwiLCBcIlvmnKrlrozmiJBdXCJdLFxuICAgIC8vIOaAu+S7k+W6k+abtOaWsOWcsOWdgO+8jOiLpeaAu+S7k+W6k+abtOaWsOayoemXrumimOivt+WLv+aTheiHquS/ruaUue+8ge+8ge+8gVxuICAgIHJlbW90ZURlcG90UnVsZVVybDogXCJodHRwczovL2dpdGVlLmNvbS9xaXVzdW5zaGluZTIzMy9oaWtlclZpZXcvcmF3L21hc3Rlci9ydWxldmVyc2lvbi9kZXBvdFJ1bGVfdjJfcmVsZWFzZS5qc29uXCIsXG4gICAgcmVtb3RlQmV0YURlcG90UnVsZVVybDogXCJodHRwczovL2dpdGVlLmNvbS9xaXVzdW5zaGluZTIzMy9oaWtlclZpZXcvcmF3L21hc3Rlci9ydWxldmVyc2lvbi9kZXBvdFJ1bGVfdjJfYmV0YS5qc29uXCJcbn07XG4vLyDoi6XkuI3mmK/nrKzkuIDmrKHkvb/nlKjmgLvku5PlupPliJnpmpDol4/lvIDlj5HmlofmoaNcbnZhciBkZXBvdFN0YXR1cyA9IHtcbiAgICAvLyDmraTlpITmiYDmnInphY3nva7pg73kvJrooqvkuIvmlrnopobnm5bvvIzor7fnp7vmraXkuIvmlrnphY3nva4gZGVwb3RTdGF0dXMueHh4ID0geHh4O1xufTtcbnZhciBkZXBvdFNldHRpbmdzID0ge1xufTtcbnZhciBzdGF0dXNDYWNoZUZpbGUgPSAgXCJoaWtlcjovL2ZpbGVzL1wiICsgbVJ1bGUudGl0bGUgKyBcIl9cIiArIG1SdWxlLmF1dGhvciArIFwiLmpzb25cIjtcbi8vIOS7k+W6k+eKtuaAgee8k+WtmOaWh+S7tuWcsOWdgFxudmFyIHN0YXR1c0NhY2hlRmlsZSA9IHN0YXR1c0NhY2hlRmlsZSAhPSBudWxsICYmIHN0YXR1c0NhY2hlRmlsZSAhPSBcIlwiID8gc3RhdHVzQ2FjaGVGaWxlIDogXCJoaWtlcjovL2ZpbGVzL1wiICsgbVJ1bGUudGl0bGUgKyBcIl9cIiArIG1SdWxlLmF1dGhvciArIFwiLmpzb25cIjtcbi8vIOS4vuS+iyBoaWtlcjovL2ZpbGVzL2RlcG90U3RhdHVzX3YyLmpzb25cbnB1dFZhcih7a2V5OiAnc3RhdHVzQ2FjaGVGaWxlJywgdmFsdWU6IHN0YXR1c0NhY2hlRmlsZX0pO1xuXG52YXIgZGVwb3RTdGF0dXNGaWxlID0gZmV0Y2goc3RhdHVzQ2FjaGVGaWxlLCB7fSk7XG5pZiAoZGVwb3RTdGF0dXNGaWxlICE9IFwiXCIpIHtcbiAgICBldmFsKFwiZGVwb3RTdGF0dXM9XCIgKyBkZXBvdFN0YXR1c0ZpbGUpO1xufVxuLy8g5LuT5bqT6YWN572u6L+c56iL5Zyw5Z2A77yM6K+36Ieq6KGM6YWN572uXG4vLyDkuL7kvovvvJpodHRwczovL2dpdGVlLmNvbS9SZWJvcm5fMC9IaWtlclJ1bGVzRGVwb3QvcmF3L21hc3Rlci9kZXBvdF92Ml9zZXR0aW5ncy5qc29uXG5kZXBvdFN0YXR1cy5zZXR0aW5nc1JlbW90ZUZpbGUgPSBcIlwiO1xuXG4vLyDoi6XpnIDopoHmsLjkuYXmmL7npLrlvIDlj5HmlofmoaPvvIzliJnlj5bmtojms6jph4pcbi8vIGRlcG90U3RhdHVzLnNob3dEZXZEb2MgPSB0cnVlO1xuLy8g6Iul6ZyA6KaB5rC45LmF5pi+56S65o+Q56S677yM5YiZ5Y+W5raI5rOo6YeKXG4vLyBkZXBvdFN0YXR1cy5zaG93VGlwcyA9IHRydWU7XG4vLyDoi6XpnIDopoHmsLjkuYXmmL7npLrkvovlrZDvvIzliJnlj5bmtojms6jph4pcbi8vIGRlcG90U3RhdHVzLnNob3dFdGMgPSB0cnVlO1xuXG52YXIgZmlsZVVybCA9IFwiaHR0cHM6Ly9naXRlZS5jb20vcWl1c3Vuc2hpbmUyMzMvaGlrZXJWaWV3L3Jhdy9tYXN0ZXIvcnVsZXZlcnNpb24vVjJfRmluZFJ1bGVfQ2xvdWQuanNcIjtcbmV2YWwoZmV0Y2goZmlsZVVybCwge30pKTtcblxuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoZCkpO1xucmVzLmRhdGEgPSBkO1xuc2V0SG9tZVJlc3VsdChyZXMpOyIsInNlYXJjaF91cmwiOiJoaWtlcjovL2hvbWUjKiojZnlwYWdlIiwidGl0bGVDb2xvciI6IiNmZmYyMGMwMCIsImdyb3VwIjoiI++4j+KDo+mmlumhtSIsInNlYXJjaEZpbmQiOiJqczpcbnZhciByZXMgPSB7fTtcbnZhciBkID0gW107XG5ldmFsKGdldENyeXB0b0pTKCkpO1xudmFyIGtleSA9IGdldFVybCgpLnNwbGl0KFwiI1wiKVsxXTtcbi8vIGtleSA9IFwi5b2x6KeGXCI7XG52YXIgcGFnZSA9IDE7XG50cnkgeyBcbiAgIHBhZ2UgPSBwYXJzZUludChnZXRVcmwoKS5zcGxpdChcIiNcIilbMl0pO1xufVxuY2F0Y2ggKGUpIHsgfVxudmFyIHBhZ2VTaXplID0gcGFnZSAqIDU7XG4vKmQucHVzaCh7XG4gICAgdGl0bGU6IFwicGFnZTogXCIgKyBwYWdlLFxuICAgIGRlc2M6IFwicGFnZVNpemU6IFwiKyBwYWdlU2l6ZSArIFwiIHBhZ2VBZGQ6IFwiKyBwYWdlQWRkXG59KTsqL1xuXG5pZiAoa2V5ICE9IG51bGwgJiYga2V5ICE9IFwiXCIpIHtcbiAgICB2YXIgcmVnRXhwID0gbmV3IFJlZ0V4cChcIlteXSpcIitrZXkrXCJbXl0qXCIpO1xuICAgIC8vIOS7k+W6k+S4quaAp+iuvue9rlxuICAgIHZhciBzZXR0aW5ncyA9IHtcbiAgICAgICAgLy8g5Zyo6L+Z6YeM5re75Yqg5LuT5bqT6YWN572u77yM5Y+v5L2/5pys5Zyw5re75Yqg55qE5LuT5bqT572u6aG2XG4gICAgICAgIGF1dGhvckxpc3Q6IFtcbiAgICAgICAgICAgLy8gXCJb5L6L5a2QXee9rumhtuengeS6uuS7k+W6k0BAUmVib3JuXzBAQEhpa2VyUnVsZXNQcml2YWN5QEBhY2Nlc3NfdG9rZW49JyoqKionXCIsXG4gICAgICAgICAgIC8vIFwiW+S+i+WtkF3oh6rlrprkuYnmlofku7blkI1AQFJlYm9ybl8wQEBIaWtlclJ1bGVzRGVwb3RAQHJlbW90ZUZpbGVuYW1lPSd1cGRhdGVfMS5qc29uJ1wiXG4gICAgICAgIF0sXG4gICAgICAgIHJlbW90ZUF1dGhvckxpc3RVcmw6IFwiaHR0cHM6Ly9naXRlZS5jb20vcWl1c3Vuc2hpbmUyMzMvaGlrZXJWaWV3L3Jhdy9tYXN0ZXIvcnVsZXZlcnNpb24vYXV0aG9yTGlzdC5qc29uXCIsXG4gICAgICAgIC8vIOWcqOi/memHjOa3u+WKoOS7k+W6k+mFjee9ru+8jOWPr+S9v+acrOWcsOa3u+WKoOeahOS7k+W6k+e9ruW6lVxuICAgICAgICBhdXRob3JMaXN0Qm90dG9tOiBbXG4gICAgICAgICAgIC8vIFwiW+S+i+WtkF3nva7lupXmnKzlnLDku5PlupNAQFJlYm9ybl8wQEBIaWtlclJ1bGVzUHJpdmFjeVwiXG4gICAgICAgIF0sXG4gICAgfTtcblxuICAgIC8vIOS8vOS5juWKoOS6huS5i+WQjuaFouS6huW+iOWkmlxuICAgIHZhciBydWxlUmVnID0gbmV3IFJlZ0V4cCgve1teXSovKTtcbiAgICBmdW5jdGlvbiBnZXRSdWxlS2V5V29yZChyZW1vdGVSdWxlKSB7XG4gICAgICAgIHZhciByZW1vdGVSdWxlUnVsZSA9IG51bGw7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGV2YWwoXCJyZW1vdGVSdWxlUnVsZT1cIiArIGJhc2U2NERlY29kZShyZW1vdGVSdWxlLnJ1bGUucmVwbGFjZShcInJ1bGU6Ly9cIiwgXCJcIikpLm1hdGNoKHJ1bGVSZWcpWzBdKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGVLZXlXb3JkID0gbnVsbDtcbiAgICAgICAgICAgIGlmKHJlbW90ZVJ1bGVSdWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlS2V5V29yZCA9IHJlbW90ZVJ1bGVSdWxlLnRpdGxlICsgcmVtb3RlUnVsZVJ1bGUudXJsICsgcmVtb3RlUnVsZVJ1bGUuYXV0aG9yO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYocmVtb3RlUnVsZUtleVdvcmQgPT0gbnVsbCkgcmVtb3RlUnVsZUtleVdvcmQgPSByZW1vdGVSdWxlLnRpdGxlO1xuICAgICAgICAgICAgcmV0dXJuIHJlbW90ZVJ1bGVLZXlXb3JkO1xuICAgIH1cblxuICAgIC8vIOaQnOe0ouino+aekOaAnei3r++8mlxuICAgIC8vIOiOt+WPluaQnOe0oumTvuaOpeS4reeahCoq77yM54S25ZCO5b6q546v6YGN5Y6G5q+P5LiA5Liq5LuT5bqT55qE6KeE5YiZ77yM5q2j5YiZ5qih57OK5Yy56YWN5Yiw5LiN5Li656m655qE5bCx5Yqg5YWl5pCc57Si57uT5p6cXG4gICAgdmFyIHJlbW90ZUF1dGhvckxpc3QgPSBbXTtcbiAgICB0cnkge1xuICAgICAgICBldmFsKFwicmVtb3RlQXV0aG9yTGlzdD1cIiArIGZldGNoKHNldHRpbmdzLnJlbW90ZUF1dGhvckxpc3RVcmwsIHt9KSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzZXR0aW5ncy5hdXRob3JMaXN0LCByZW1vdGVBdXRob3JMaXN0KTtcbiAgICBpZiAoc2V0dGluZ3MuYXV0aG9yTGlzdEJvdHRvbS5sZW5ndGggIT0gMCkgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2V0dGluZ3MuYXV0aG9yTGlzdCwgc2V0dGluZ3MuYXV0aG9yTGlzdEJvdHRvbSk7XG5cbiAgICAvLyDnqbrpl7TmjaLml7bpl7QsIG5eMi0+Mm7vvJ/omb3nhLZBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseeWPr+iDveS5n+aYr+S4gOS4qm7vvJ/vvIjkvZPpqozkuIrmsqHmhJ/op4nlv6vlpJrlsJHvvIzmr5Xnq5/pgqPkuKpmZXRjaOWkquWkmuS6hi4uLu+8iVxuICAgIHZhciBtUmVtb3RlUnVsZXMgPSBbXTtcbiAgICAvLyAxLuaLv+WIsOS7k+W6k1xuICAgIGZvciAodmFyIGkgPSAocGFnZS0xKSAqIDU7IGkgPCBzZXR0aW5ncy5hdXRob3JMaXN0Lmxlbmd0aCAmJiBpIDwgcGFnZVNpemU7IGkrKykge1xuICAgICAgIC8vIGlmIChpIDwgcGFnZVNpemUpIGJyZWFrO1xuICAgICAgICB2YXIgYXV0aG9yTGlzdCA9IHNldHRpbmdzLmF1dGhvckxpc3RbaV07XG4gICAgICAgIHZhciBhdXRob3JBbmRPd25lckFuZFByb2plY3QgPSBhdXRob3JMaXN0LnNwbGl0KFwiQEBcIik7XG4gICAgICAgIHZhciBhdXRob3IgPSBhdXRob3JBbmRPd25lckFuZFByb2plY3RbMF07XG4gICAgICAgIHZhciByZW1vdGVVcmwgPSBcIlwiO1xuXG4gICAgICAgIHZhciBhcGlUeXBlID0gXCIxXCI7ICAvLyAwIOS4uuaWh+S7tuebtOmTvu+8jDEg5Li656CB5LqRQVBJXG4gICAgICAgIHZhciBhcGlUeXBlSlMgPSBhdXRob3JMaXN0Lm1hdGNoKC9hcGlUeXBlPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgICAgIGV2YWwoYXBpVHlwZUpTKTtcbiAgICAgICAgaWYgKGFwaVR5cGUgPT0gbnVsbCkgYXBpVHlwZSA9IFwiMVwiO1xuXG4gICAgICAgIGlmIChhcGlUeXBlID09IFwiMFwiKSB7XG4gICAgICAgICAgICB2YXIgZnVsbFVybCA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgZnVsbFVybEpTID0gYXV0aG9yTGlzdC5tYXRjaCgvZnVsbFVybD0uW1xcc1xcU10qPycvKSArIFwiO1wiO1xuICAgICAgICAgICAgZXZhbChmdWxsVXJsSlMpO1xuICAgICAgICAgICAgcmVtb3RlVXJsID0gZnVsbFVybDtcbiAgICAgICAgfSBlbHNlIGlmIChhcGlUeXBlID09IFwiMVwiKSB7XG4gICAgICAgICAgICB2YXIgcmVtb3RlQXBpSG9tZSA9IFwiaHR0cHM6Ly9naXRlZS5jb20vYXBpL3Y1L3JlcG9zL1wiO1xuICAgICAgICAgICAgdmFyIG93bmVyID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzFdOyAgIC8vIOS7k+W6k+aLpeacieiAhVxuICAgICAgICAgICAgdmFyIHJlcG8gPSBhdXRob3JBbmRPd25lckFuZFByb2plY3RbMl07IC8vIOS7k+W6k+WQjVxuICAgICAgICAgICAgdmFyIHJlbW90ZUZpbGVuYW1lID0gbnVsbDsgLy8g5paH5Lu25ZCNXG4gICAgICAgICAgICB2YXIgcGF0aCA9IHJlbW90ZUZpbGVuYW1lOyAgLy8g5Zyo5LuT5bqT5Lit5paH5Lu255qE6Lev5b6EXG4gICAgICAgICAgICB2YXIgYWNjZXNzX3Rva2VuID0gbnVsbDsgIC8vIOeUqOaIt+aOiOadg+egge+8jOWcqOeggeS6kVwi6K6+572u4oCUPuWuieWFqOiuvuWumi0+5Liq5Lq66K6/6Zeu5Luk54mMXCLkuK3lj6/ku6XnlJ/miJBcbiAgICAgICAgICAgIHZhciB0b2tlbkpTID0gYXV0aG9yTGlzdC5tYXRjaCgvYWNjZXNzX3Rva2VuPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgICAgICAgICBldmFsKHRva2VuSlMpO1xuICAgICAgICAgICAgLy8gc2V0RXJyb3IoYWNjZXNzX3Rva2VuPT1udWxsKTtcbiAgICAgICAgICAgIHZhciByZW1vdGVGaWxlbmFtZUpTID0gYXV0aG9yTGlzdC5tYXRjaCgvcmVtb3RlRmlsZW5hbWU9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbiAgICAgICAgICAgIGV2YWwocmVtb3RlRmlsZW5hbWVKUyk7XG4gICAgICAgICAgICBpZiAocmVtb3RlRmlsZW5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlbW90ZUZpbGVuYW1lID0gXCJ1cGRhdGUuanNvblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF0aCA9IHJlbW90ZUZpbGVuYW1lO1xuICAgICAgICAgICAgLy8gc2V0RXJyb3IocmVtb3RlRmlsZW5hbWUpXG4gICAgICAgICAgICAvLyBBUEnpk77mjqXlj4LogIPvvJpodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3Mve3tvd25lcn19L3t7cmVwb319L2NvbnRlbnRzL3t7cGF0aH19P2FjY2Vzc190b2tlbj0qKioqXG4gICAgICAgICAgICByZW1vdGVVcmwgPSByZW1vdGVBcGlIb21lICsgb3duZXIgKyBcIi9cIiArIHJlcG8gKyBcIi9jb250ZW50cy9cIiArIHBhdGg7XG4gICAgICAgICAgICBpZiAoYWNjZXNzX3Rva2VuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZW1vdGVVcmwgPSByZW1vdGVVcmwgKyBcIj9hY2Nlc3NfdG9rZW49XCIgKyBhY2Nlc3NfdG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXRFcnJvcihyZW1vdGVVcmwpO1xuICAgICAgICAgICAgLy8gdmFyIHJlbW90ZUhvbWUgPSBcImh0dHBzOi8vZ2l0ZWUuY29tL1wiICsgb3duZXIgKyBcIi9cIiArIHJlcG8gKyBcIi9ibG9iL21hc3Rlci91cGRhdGUuanNvblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFyIHJlbW90ZVVybCA9IHJlbW90ZUFwaUhvbWUgKyBlbmNvZGVVUklDb21wb25lbnQoYXV0aG9yKSArIFwiL1wiICsgcmVtb3RlRmlsZW5hbWU7XG4gICAgICAgIHZhciByZW1vdGVTb3VyY2UgPSBmZXRjaChyZW1vdGVVcmwsIHt9KTtcbiAgICAgICAgLy8gc2V0RXJyb3IocmVtb3RlVXJsKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV2YWwoXCJyZW1vdGVTb3VyY2U9XCIgKyByZW1vdGVTb3VyY2UpO1xuICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGVzID0gcmVtb3RlU291cmNlO1xuICAgICAgICAgICAgaWYgKGFwaVR5cGUgPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBpVHlwZSA9PSBcIjFcIikge1xuICAgICAgICAgICAgICAgIGV2YWwoXCJyZW1vdGVSdWxlcz1cIiArIGJhc2U2NERlY29kZShyZW1vdGVTb3VyY2UuY29udGVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlbW90ZVJ1bGVzLmRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG1SZW1vdGVSdWxlcywgcmVtb3RlUnVsZXMuZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG1SZW1vdGVSdWxlcywgcmVtb3RlU291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qaWYobVJlbW90ZVJ1bGVzLmxlbmd0aCA8IHBhZ2UgKiA4KSB7XG4gICAgICAgICAgICAgICAgIHBhZ2UrKztcbiAgICAgICAgICAgICAgICAgcGFnZVNpemUgPSBwYWdlICogNTtcbiAgICAgICAgICAgICAgICAgcGFnZUFkZCsrO1xuICAgICAgICAgICAgICAgICBwdXRWYXIoe2tleTogJ3BhZ2VBZGQnLCB2YWx1ZTogcGFnZUFkZH0pO1xuICAgICAgICAgICAgfSovXG4gICAgICAgIH1jYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIDIu5ou/5Yiw5Y2V5Liq5LuT5bqT55qE6KeE5YiZ5YiX6KGoXG4gICAgaWYgKG1SZW1vdGVSdWxlcy5sZW5ndGggIT0gMCkge1xuICAgICAgICAvLyDmjaLkuKrplKTlrZDnmoTkuozliIbms5XvvIzkuIDlrpropoHpgY3ljobmiYDmnInmlbDmja7nmoTvvIzov5nmoLfpobblpJrmmK9PKDEvMiBuKe+8jOW/veeVpeW4uOaVsOi/mOaYr08obinvvIznoa7lrp7kvJrlv6vkuIDkuKLkuKLvvIznqbrpl7TmjaLml7bpl7TnmoTnu5PmnpxcbiAgICAgICAgdmFyIGxlZnQgPSAwO1xuICAgICAgICB2YXIgcmlnaHQgPSBtUmVtb3RlUnVsZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKGxlZnQgPD0gcmlnaHQpIHtcbiAgICAgICAgICAgIHZhciByZW1vdGVSdWxlTGVmdCA9IG1SZW1vdGVSdWxlc1tsZWZ0XTtcbiAgICAgICAgICAgIHZhciByZW1vdGVSdWxlUmlnaHQgPSBtUmVtb3RlUnVsZXNbcmlnaHRdO1xuICAgICAgICAgICAgaWYgKHJlZ0V4cC50ZXN0KGdldFJ1bGVLZXlXb3JkKHJlbW90ZVJ1bGVMZWZ0KSkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiByZW1vdGVSdWxlTGVmdC50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vYmFpZHUuY29tI1wiICsgcmVtb3RlUnVsZUxlZnQucnVsZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogcmVtb3RlUnVsZUxlZnQuYXV0aG9yLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIuS6keerr+eJiOacrO+8mlwiICsgcmVtb3RlUnVsZUxlZnQudmVyc2lvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlZ0V4cC50ZXN0KGdldFJ1bGVLZXlXb3JkKHJlbW90ZVJ1bGVSaWdodCkpID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcmVtb3RlUnVsZVJpZ2h0LnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9iYWlkdS5jb20jXCIgKyByZW1vdGVSdWxlUmlnaHQucnVsZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogcmVtb3RlUnVsZVJpZ2h0LmF1dGhvcixcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCLkupHnq6/niYjmnKzvvJpcIiArIHJlbW90ZVJ1bGVSaWdodC52ZXJzaW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZWZ0Kys7XG4gICAgICAgICAgICByaWdodC0tO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5pZigocGFnZSkgKiA1IDwgc2V0dGluZ3MuYXV0aG9yTGlzdC5sZW5ndGgpIHtcbiAgICBpZihkLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgIHRpdGxlOiBcIuayoeWKoOi9veWIsOS4nOilv++8n+S4jeimgee0p++8jOS4iua7keWPr+iDveacieaDiuWWnOWTpu+8gVwiLFxuICAgICAgICAgICAgIGRlc2M6IFwiUFM6IOWPquimgeayoeaYvuekuuacgOWQjuS4gOmhteWwsei/mOacieW4jOacm++8gVwiXG4gICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICB0aXRsZTogXCLmnKrliLDmnIDlkI7kuIDpobXvvIzor7fnu6fnu63kuIrmu5HliqDovb3mm7TlpJrjgIJcIlxuICAgICAgICAgfSk7XG4gICAgfVxufSBlbHNlIHtcbiAgICAgZC5wdXNoKHtcbiAgICAgICAgIHRpdGxlOiBcIuW3suWIsOacgOWQjuS4gOmhtVwiXG4gICAgIH0pO1xufVxuXG4vLyBzZXRFcnJvcihKU09OLnN0cmluZ2lmeShkKSk7XG5yZXMuZGF0YSA9IGQ7XG5zZXRTZWFyY2hSZXN1bHQocmVzKTsiLCJkZXRhaWxfY29sX3R5cGUiOiJ0ZXh0XzEiLCJkZXRhaWxfZmluZF9ydWxlIjoianM6XG52YXIgcmVzID0ge307XG52YXIgZCA9IFtdO1xuZXZhbChnZXRDcnlwdG9KUygpKTtcblxuLy8g5LuT5bqT6YWN572u5pys5Zyw57yT5a2Y5paH5Lu2XG52YXIgc2V0dGluZ3NDYWNoZUZpbGUgPSBcImhpa2VyOi8vZmlsZXMvZGVwb3RfdjJfc2V0dGluZ3MuanNvblwiO1xuLy8g5pys5Zyw57yT5a2Y5byA5YWzXG52YXIgbmVlZENhY2hlU2V0dGluZyA9IHRydWU7XG5cbi8vIOS7k+W6k+S4quaAp+iuvue9rlxudmFyIHNldHRpbmdzID0ge1xuICAgIC8vIOiuvue9riB0cnVlIOS4gOmUruWHgOWMlu+8jOmZpOS6huinhOWImeWSjOS7k+W6k+mAmuefpe+8jOWVpeS5n+S4jeimgVxuICAgIGhpZGVBbGw6IGZhbHNlLFxuICAgIC8vIOWwj+S7k+W6k+agh+mimOW8gOWFs++8iOazqOaEj+S6i+mhueS4iumdoumCo+S4qu+8ie+8jOS4jemcgOimgeaYvuekuuivt+iuvue9ruS4unRydWVcbiAgICBub1RpdGxlOiB0cnVlLFxuICAgIC8vIOazqOaEj+S6i+mhueW8gOWFs++8jOS4jemcgOimgeaYvuekuuivt+iuvue9ruS4unRydWVcbiAgICBub1dhcm5pbmc6IGZhbHNlLFxuICAgIC8vIOinhOWImeaVsOmHj+aYvuekuuW8gOWFs++8jOS4jemcgOimgeaYvuekuuivt+iuvue9ruS4unRydWVcbiAgICBub1J1bGVzTnVtOiBmYWxzZSxcbiAgICAvLyDmmK/lkKblhYHorrjotoXov4fkuIDlrprop4TliJnmlbDlkI7mlLnlj5jmmL7npLrmoLflvI/vvIzpu5jorqTkuI3lvIDlkK9cbiAgICBuZWVkQ2hhbmdlU2hvd1R5cGU6IGZhbHNlLFxuICAgIC8vIOiuvue9ruacgOWkp+aYvuekuuWujOaVtOaWh+acrOeahOinhOWImeaVsO+8jOWkp+S6juiuvue9ruWAvOWImeaYvuekuuS4uuaMiemSruagt+W8jyjpu5jorqQgdGV4dF8yKVxuICAgIHNob3dGdWxsVGV4dE1heDogMTAsXG4gICAgLy8g6K6+572u6LaF6L+H5YWB6K645pi+56S65a6M5pW05paH5pys55qE6KeE5YiZ5pWw5ZCO5pi+56S655qE5qC35byPXG4gICAgb3Zlck1heFNob3dUeXBlOiBcInRleHRfMlwiLFxuICAgIC8qKlxuICAgICAqIOinhOWImeaYoOWwhOWIl+ihqFxuICAgICAqIOW3puacrOWcsO+8jOWPs+i/nOerr++8jOacrOWcsOaYoOWwhOS4uui/nOerr++8jOi+vuWIsOabv+aNouWGheWuueeahOebrueahFxuICAgICAqIOmcgOimgeWFqOWQjeWMuemFjemcgOimgeWcqOaYoOWwhOihqOS4reWKoOWFpXsgXCJtYXRjaEFsbFwiOiB0cnVlIH1cbiAgICAgKiDvvIjms6jmhI/vvIznqIvluo/pgLvovpHkuLrlhYjmmKDlsITlkI7miafooYzkuIvpnaLnmoTliKDpmaTmoIforrDvvIlcbiAgICAgKi9cbiAgICBydWxlc01hcHBpbmc6IFtcbiAgICAgICAgLy8gW3tcInRpdGxlXCI6IFwi5Zeo5ZOG5ZKqXCIsIFwiYXV0aG9yXCI6IFwiUmVib3JuXCJ9LCB7XCJ0aXRsZVwiOiBcIuWXqOWTmuWSquW9seinhlwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifSwge1wibWF0Y2hBbGxcIjogdHJ1ZX1dLFxuICAgICAgICAvLyBbe1widGl0bGVcIjogXCLpooTlkYrniYdcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn0sIHtcInRpdGxlXCI6IFwi6aKE5ZGK54mHKD894oCiUmUpXCIsIFwiYXV0aG9yXCI6IFwiUmVib3JuXCJ9XSxcbiAgICAgICAgLy8gW3tcInRpdGxlXCI6IFwi6aKE5ZGK54mH4oCiVFwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifSwge1widGl0bGVcIjogXCLpooTlkYrniYfigKJSZVwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifV0sXG4gICAgICAgIC8vIFt7XCJ0aXRsZVwiOiBcIi4qPyg/PeKAolQpXCIsIFwiYXV0aG9yXCI6IFwiUmVib3JuXCJ9LCB7XCJ0aXRsZVwiOiBcIi4qPyg/PeKAolJlKVwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifV0sXG4gICAgICAgIC8vIFt7XCJ0aXRsZVwiOiBcIi4qPyg/PeKAokIpXCIsIFwiYXV0aG9yXCI6IFwiUmVib3JuXCJ9LCB7XCJ0aXRsZVwiOiBcIi4qPyg/PeKAolJlKVwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifV1cbiAgICBdLFxuICAgIC8vIOS6keerr+inhOWImeaYoOWwhOWIl+ihqOmTvuaOpe+8jOWGheWuueagvOW8j+aYr0pTT07mlbDnu4TvvIzor7foh6rlt7Horr7nva5cbiAgICByZW1vdGVSdWxlc01hcHBpbmdVcmw6IFwiXCIsXG4gICAgLy8g5YWl5oiP5byA5YWz77yf77yI5ruR56i977yJLy8g5Yig6Zmk5byA5YWz77yM5LiN6ZyA6KaB5Yig6Zmk6K+36K6+572u5Li6ZmFsc2VcbiAgICBuZWVkRGVsU3ltYm9sOiB0cnVlLFxuICAgIC8vIOiHquihjOa3u+WKoOimgeiiq+WIoOaOieeahOagh+iusFxuICAgIHN5bWJvbHM6IFtcIuagh+iusDFcIiwgXCLmoIforrAyXCJdLFxuICAgIC8vIOmakOiXj+W8gOWFs++8jOS4jemcgOimgemakOiXj+ivt+iuvue9ruS4umZhbHNlXG4gICAgbmVlZEhpZGVSdWxlOiB0cnVlLFxuICAgIC8vIOiHquihjOa3u+WKoOimgemakOiXj+eahOagh+iusO+8jOagvOW8j+S4uu+8mlvmoIforrDlkI1dXG4gICAgaGlkZVN5bWJvbHM6IFtcIlvmqKHmnb9dXCIsIFwiW+acquWujOaIkF1cIl0sXG4gICAgLy8g5piv5ZCm6ZqQ6JeP5L6L5a2Q77yM6ZyA6KaB6ZqQ6JeP6K+36K6+572u5Li6dHJ1ZVxuICAgIG5lZWRIaWRlRXRjOiBmYWxzZSxcblxuICAgIC8vIOiLpemcgOimgeWFs+mXreW/veeVpeacrOasoeabtOaWsOivt+iuvue9ruS4unRydWVcbiAgICBub0lnbm9yZVVwZGF0ZTogZmFsc2UsXG4gICAgLy8g5pys5Zyw5b+955Wl5pu05paw5YiX6KGo77yMXG4gICAgLy8g5YaF5a655qih5p2/5Li6IHt0aXRsZTogXCLop4TliJnlkI1cIiwgYXV0aG9yOiBcIuinhOWImeS9nOiAhVwifVxuICAgIGlnbm9yZVVwZGF0ZVJ1bGVMaXN0OiBbXG4gICAgICAgIC8vIHt0aXRsZTogXCLpooTlkYrniYfigKJSZVwiLCBhdXRob3I6IFwiUmVib3JuXCJ9LFxuICAgIF0sXG4gICAgLy8g5LqR56uv5b+955Wl5pu05paw5YiX6KGo6ZO+5o6l77yM5qC85byP5pivSlNPTuaVsOe7hO+8jOivt+iHquW3seiuvue9rlxuICAgIHJlbW90ZUlnbm9yZUxpc3RVcmw6IFwiXCIsXG4gICAgLy8g5Y+C6ICD6ZO+5o6l77yaXG4gICAgLy8gaHR0cHM6Ly9naXRlZS5jb20vUmVib3JuXzAvSGlrZXJSdWxlc0RlcG90L3Jhdy9tYXN0ZXIvaWdub3JlVXBkYXRlUnVsZUxpc3QuanNvblxuICAgIC8vIGh0dHBzOi8vZ2l0ZWUuY29tL3FpdXN1bnNoaW5lMjMzL2hpa2VyVmlldy9yYXcvbWFzdGVyL3J1bGV2ZXJzaW9uL1JlYm9ybi9pZ25vcmVVcGRhdGVSdWxlTGlzdC5qc29uXG59O1xudmFyIHN0YXR1c0NhY2hlRmlsZSA9IGdldFZhcignc3RhdHVzQ2FjaGVGaWxlJyk7XG4vLyDoi6XkuI3mmK/nrKzkuIDmrKHkvb/nlKjmgLvku5PlupPliJnlrZjlgqjku5PlupPnirbmgIFcbnZhciBkZXBvdFN0YXR1cyA9IHtcbiAgICAvLyDmraTlpITmiYDmnInphY3nva7pg73kvJrooqvkuIvmlrnopobnm5bvvIzor7fnp7vmraXkuIvmlrnphY3nva4gZGVwb3RTdGF0dXMueHh4ID0geHh4O1xufTtcbnZhciBkZXBvdFNldHRpbmdzID0ge307XG5cbmlmIChzZXR0aW5ncy5uZWVkSGlkZUV0YyA9PSB0cnVlKSBzZXR0aW5ncy5oaWRlU3ltYm9scy5wdXNoKFwiW+S+i+WtkF1cIik7XG5cbi8vIOS7k+W6k+eKtuaAgee8k+WtmOaWh+S7tuWcsOWdgFxuaWYgKHN0YXR1c0NhY2hlRmlsZSA9PSBudWxsIHx8IHN0YXR1c0NhY2hlRmlsZSA9PSBcIlwiKSBzdGF0dXNDYWNoZUZpbGUgPSBcImhpa2VyOi8vZmlsZXMvZGVwb3RTdGF0dXNfdjIuanNvblwiO1xuLy8g5Li+5L6LIGhpa2VyOi8vZmlsZXMvZGVwb3RTdGF0dXNfdjIuanNvblxuXG52YXIgZGVwb3RTdGF0dXNGaWxlID0gZmV0Y2goc3RhdHVzQ2FjaGVGaWxlLCB7fSk7XG5pZiAoZGVwb3RTdGF0dXNGaWxlICE9IFwiXCIpIHtcbiAgICBldmFsKFwiZGVwb3RTdGF0dXM9XCIgKyBkZXBvdFN0YXR1c0ZpbGUpO1xufVxuXG4vLyDku5PlupPphY3nva7ov5znqIvlnLDlnYDvvIzor7foh6rooYzphY3nva5cbi8vIOS4vuS+i++8mmh0dHBzOi8vZ2l0ZWUuY29tL1JlYm9ybl8wL0hpa2VyUnVsZXNEZXBvdC9yYXcvbWFzdGVyL2RlcG90X3YyX3NldHRpbmdzLmpzb25cbmRlcG90U3RhdHVzLnNldHRpbmdzUmVtb3RlRmlsZSA9IFwiXCI7XG5cbi8vIOiLpemcgOimgeawuOS5heaYvuekuuaPkOekuu+8jOWImeWPlua2iOazqOmHilxuLy8gZGVwb3RTdGF0dXMuc2hvd1NlY29uZExpc3RUaXBzID0gdHJ1ZTtcblxudmFyIGZpbGVVcmwgPSBcImh0dHBzOi8vZ2l0ZWUuY29tL3FpdXN1bnNoaW5lMjMzL2hpa2VyVmlldy9yYXcvbWFzdGVyL3J1bGV2ZXJzaW9uL1YyX0RldGFpbFJ1bGVfQ2xvdWQuanNcIjtcbmV2YWwoZmV0Y2goZmlsZVVybCwge30pKTtcblxucmVzLmRhdGEgPSBkO1xuc2V0SG9tZVJlc3VsdChyZXMpOyIsInNkZXRhaWxfY29sX3R5cGUiOiJ0ZXh0X2NlbnRlcl8xIiwic2RldGFpbF9maW5kX3J1bGUiOiJqczpcbnZhciByZXMgPSB7fTtcbnZhciBkID0gW107XG5cbnZhciBydWxlID0gZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzFdO1xuaWYocnVsZSAhPSBudWxsICYmIHJ1bGUgIT0gXCJcIikge1xuICAgICBkLnB1c2goe1xuICAgICAgICAgIHRpdGxlOiBcIueri+WNs+WvvOWFpeinhOWImVwiLFxuICAgICAgICAgIHVybDogcnVsZVxuICAgICB9KTtcbn1cblxucmVzLmRhdGEgPSBkO1xuc2V0SG9tZVJlc3VsdChyZXMpOyJ9"
    },
    {
      "title": "视界论坛R",
      "author": "微笑&发粪涂墙&Reborn",
      "version": 29,
      "updateText": "本次规则采用快速提交。",
      "tips": "",
      "rule": "rule://5rW36ZiU6KeG55WM77yM6aaW6aG16aKR6YGT77+laG9tZV9ydWxl77+leyJ0aXRsZSI6IuinhueVjOiuuuWdm1IiLCJhdXRob3IiOiLlvq7nrJEm5Y+R57Kq5raC5aKZJlJlYm9ybiIsInZlcnNpb24iOjI5LCJ1cmwiOiJodHRwczovL2hhaWt1b3NoaWppZS5jbi90b3BpY3Mvbm9kZS9meUFsbD9wPWZ5cGFnZSIsImNvbF90eXBlIjoidGV4dF8xIiwiY2xhc3NfbmFtZSI6IuacgOaWsCbng63pl6gm5o6o6I2QJuinhueVjCIsImNsYXNzX3VybCI6Im5ld2VzdCZob3QmcmVjb21tZW5kJjEiLCJhcmVhX25hbWUiOiLmsYLliqkm5o+S5Lu2JuaVmeeoiybmlrnlnIYm5pG46bG8IiwiYXJlYV91cmwiOiI1JjcmOCYyJjYiLCJzb3J0X25hbWUiOiIiLCJ5ZWFyX25hbWUiOiIiLCJzb3J0X3VybCI6IiIsInllYXJfdXJsIjoiIiwiZmluZF9ydWxlIjoianM6XG52YXIgcmVzID0ge307XG52YXIgZCA9IFtdO1xuLy8g5L2/55SoIGVtb2ppIOWbvuagh+abv+aNouaWh+acrO+8jOS9v+eUqC8xIOS4jeS9v+eUqC8wXG52YXIgdXNlRW1vamkgPSAxO1xuLy8g5biW5a2Q5YiG57G76aKc6ImyXG52YXIgbm9kZUNvbG9yID0gXCIjMjk3OUZGXCI7XG4vLyDmmK/lkKbmmL7npLrngrnotZ7mlbDor4TorrrmlbDnrYnvvIzmmL7npLovMSDkuI3mmL7npLovMFxudmFyIHNob3dMaWtlID0gMTtcblxuLyoqXG4gKiDpgJrov4fmj5Lku7boh6rliqjojrflj5YgVG9rZW4g5Yiw5paH5Lu25Lit54S25ZCO6Ieq5Yqo6K+75Y+WXG4gKlxuICog5rOo5oSP77ya5Lul5LiK5pa555qEIHRva2VuIOS4uuS4u1xuICovXG52YXIgZmlsZVRva2VuID0gZ2V0VmFyKCdoaWtlcl90b2tlbicpO1xuaWYgKGZpbGVUb2tlbiA9PT0gJycpIHtcbnRyeSB7XG4gICAgZmlsZVRva2VuID0gZmV0Y2ggKCdoaWtlcjovL2ZpbGVzL3J1bGVzL2pzL2hpa2VyYmJzX3Rva2VuLmpzJywge30pO1xuICAgIGlmIChmaWxlVG9rZW4gPT0gbnVsbCkgZmlsZVRva2VuID0gJyc7XG59IGNhdGNoIChlKSB7XG4gICAgZmlsZVRva2VuID0gJyc7XG59XG59XG52YXIgY29va2llID0gZmlsZVRva2VuID09PSAnJyA/ICcnIDogJ3VzZXJUb2tlbj0nICsgZmlsZVRva2VuO1xudmFyIGhlYWRlcnMgPSAnJztcbmlmIChjb29raWUgIT09ICcnKSB7XG4gICAgaGVhZGVycyA9ICc7Z2V0O1VURi04O3tVc2VyLUFnZW50QEFuZHJvaWQmJkNvb2tpZUAnICsgY29va2llICsgJ30nO1xufVxuXG52YXIgaHRtbCA9IGdldFJlc0NvZGUoKTtcbnZhciBsaXN0ID0gcGFyc2VEb21Gb3JBcnJheShodG1sLCAnLnRvcGljLWxpc3QmJi50b3BpYy1pdGVtJyk7XG5mb3IgKGxldCBqID0gMDsgaiA8IGxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICBsZXQgbWV0YUl0ZW1zID0gcGFyc2VEb21Gb3JBcnJheShsaXN0W2pdLCAnLnRvcGljLW1ldGEmJi5tZXRhLWl0ZW0nKTtcbiAgICAvLyBzZXRFcnJvcihKU09OLnN0cmluZ2lmeShtZXRhSXRlbXMpKTtcbiAgICBsZXQgbWV0YU5vZGUgPSBwYXJzZURvbUZvckh0bWwobWV0YUl0ZW1zWzJdLCAnVGV4dCcpO1xuICAgIGxldCBtZXRhID0gcGFyc2VEb21Gb3JIdG1sKG1ldGFJdGVtc1swXSwgJ1RleHQnKVxuICAgICAgICArICcgICdcbiAgICAgICAgKyBwYXJzZURvbUZvckh0bWwobWV0YUl0ZW1zWzFdLCAnVGV4dCcpXG4gICAgICAgICsgJyAgJ1xuICAgICAgICArICc8Zm9udCBjb2xvcj1cIicgKyBub2RlQ29sb3IgKyAnXCI+JyArIG1ldGFOb2RlICsgJzwvZm9udD4nO1xuICAgIGxldCBtZXRhVGFncyA9IHBhcnNlRG9tRm9yQXJyYXkoJzxkaXY+JyArIG1ldGFJdGVtc1szXSArICc8L2Rpdj4nLCAnZGl2JiYudGFnJyk7XG4gICAgLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkobWV0YVRhZ3MpKTtcbiAgICBsZXQgbWV0YVRhZyA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWV0YVRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbWV0YVRhZyA9IChtZXRhVGFnID09PSAnJyA/IG1ldGFUYWcgOiAobWV0YVRhZyArICcgICcpKVxuICAgICAgICAgICAgKyBwYXJzZURvbUZvckh0bWwobWV0YVRhZ3NbaV0sICdUZXh0JylcbiAgICB9XG4gICAgbWV0YVRhZyA9IG1ldGFUYWcucmVwbGFjZSgn572u6aG2JywgJ+KAnOKAnOe9rumhtuKAneKAnScpO1xuICAgIG1ldGEgPSBtZXRhICsgJyAgJyArIG1ldGFUYWc7XG4gICAgbGV0IGRlc2MgPSAn4oCc4oCc4oCd4oCdJyArIG1ldGE7XG4gICAgaWYgKHNob3dMaWtlKSB7XG4gICAgICAgIGxldCBsaWtlSXRlbXMgPSBwYXJzZURvbUZvckFycmF5KGxpc3Rbal0sICcubGlrZSYmLmxpa2UtaXRlbScpO1xuICAgICAgICAvLyBzZXRFcnJvcihKU09OLnN0cmluZ2lmeShsaXN0W2pdKSk7XG4gICAgICAgIGxldCBsaWtlQ291bnQgPSBwYXJzZURvbUZvckh0bWwobGlrZUl0ZW1zWzBdLCAnVGV4dCcpO1xuICAgICAgICBsZXQgY29tbWVudENvdW50ID0gcGFyc2VEb21Gb3JIdG1sKGxpa2VJdGVtc1sxXSwgJ1RleHQnKTtcbiAgICAgICAgbGV0IHNlZUNvdW50ID0gcGFyc2VEb21Gb3JIdG1sKGxpa2VJdGVtc1syXSwgJ1RleHQnKTtcbiAgICAgICAgbGV0IGxpa2UgPSAn6I636LWe77yaJyArIChsaWtlQ291bnQgIT0gbnVsbCAmJiBsaWtlQ291bnQgIT09ICd1bmRlZmluZWQnICYmIGxpa2VDb3VudCAhPT0gJycgID8gbGlrZUNvdW50IDogJzAnKVxuICAgICAgICAgICAgKyAnXFx0XFx0J1xuICAgICAgICAgICAgKyAn6K+E6K6677yaJyArIChjb21tZW50Q291bnQgIT0gbnVsbCAgJiYgY29tbWVudENvdW50ICE9PSAndW5kZWZpbmVkJyAmJiBjb21tZW50Q291bnQgIT09ICcnID8gY29tbWVudENvdW50IDogJzAnKVxuICAgICAgICAgICAgKyAnXFx0XFx0J1xuICAgICAgICAgICAgKyfmn6XnnIvvvJonICsgKHNlZUNvdW50ICE9IG51bGwgICYmIHNlZUNvdW50ICE9PSAndW5kZWZpbmVkJyAmJiBzZWVDb3VudCAhPT0gJycgPyBzZWVDb3VudCA6ICcwJyk7XG4gICAgICAgIC8vIPCfkY3wn4+78J+RjeKdpO+4j/Cfp6HimaXvuI/wn5Kb8J+WpOKZoeKZpfCfkqzwn5GB77iP4p6/8JOBulxuICAgICAgICBpZiAodXNlRW1vamkpXG4gICAgICAgICAgICBsaWtlID0gbGlrZS5yZXBsYWNlKFwi6I636LWe77yaXCIsIFwi4p2k77iPIFwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwi6K+E6K6677yaXCIsIFwi8J+SrCBcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIuafpeeci++8mlwiLCBcIvCfkYHvuI8gXCIpO1xuICAgICAgICBkZXNjID0gZGVzYyArICdcXG5cXG4nICsgbGlrZTtcbiAgICB9XG4gICAgbGV0IHVybCA9IHBhcnNlRG9tKGxpc3Rbal0sJ2gxJiZhJiZocmVmJykgKyBcIiNmeXBhZ2VcIiArIFwiI25vSGlzdG9yeSNcIlxuICAgICAgICArIChoZWFkZXJzID09PSAnJyA/ICcnIDogaGVhZGVycyk7XG4gICAgdXJsID0gdXJsLnJlcGxhY2UoL1xcbi9nLCAnJyk7XG4gICAgLy8gc2V0RXJyb3IodXJsKTtcbiAgICAvLyBodHRwczovL2hhaWt1b3NoaWppZS5jbi90b3BpYy8yOTgyI2Z5cGFnZSNub0hpc3RvcnkjO0dFVDt1dGYtODt7Q29va2llQHVzZXJUb2tlbj14eHh4eHh9XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IHBhcnNlRG9tRm9ySHRtbChsaXN0W2pdLCAnaDEmJlRleHQnKSxcbiAgICAgICAgZGVzYzogZGVzYyxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgfSk7XG59XG5yZXMuZGF0YSA9IGQ7XG5zZXRIb21lUmVzdWx0KHJlcyk7Iiwic2VhcmNoRmluZCI6ImpzOlxudmFyIHJlcyA9IHt9O1xudmFyIGQgPSBbXTtcblxudmFyIGZpbGVUb2tlbiA9IGdldFZhcignaGlrZXJfdG9rZW4nKTtcbmlmIChmaWxlVG9rZW4gPT09ICcnKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZmlsZVRva2VuID0gZmV0Y2ggKCdoaWtlcjovL2ZpbGVzL3J1bGVzL2pzL2hpa2VyYmJzX3Rva2VuLmpzJywge30pO1xuICAgICAgICBpZiAoZmlsZVRva2VuID09IG51bGwpIGZpbGVUb2tlbiA9ICcnO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZmlsZVRva2VuID0gJyc7XG4gICAgfVxufVxudmFyIGNvb2tpZSA9IGZpbGVUb2tlbiA9PT0gJycgPyAnJyA6ICd1c2VyVG9rZW49JyArIGZpbGVUb2tlbjtcbnZhciBoZWFkZXJzID0gJyc7XG5pZiAoY29va2llICE9PSAnJykge1xuICAgIGhlYWRlcnMgPSAnO2dldDtVVEYtODt7VXNlci1BZ2VudEBBbmRyb2lkJiZDb29raWVAJyArIGNvb2tpZSArICd9Jztcbn1cblxuLyoqXG4gKiDojrflj5bmkJzntKLmupDnoIFcbiAqIGV0Yy5cbiAqIGhpa2VyOi8vZW1wdHkvIyoqI2Z5cGFnZVxuICogaHR0cHM6Ly93d3cuZG9nZWRvZ2UuY29tL3Jlc3VsdHM/cT1zaXRlOmhhaWt1b3NoaWppZS5jbivop4TliJkmcD1meXBhZ2VcbiAqL1xubGV0IHVybFNwbGl0cyA9IE1ZX1VSTC5zcGxpdCgnIycpO1xubGV0IHNlYXJjaFVybCA9ICdodHRwczovL3d3dy5kb2dlZG9nZS5jb20vcmVzdWx0cz9xPXNpdGU6aGFpa3Vvc2hpamllLmNuKydcbiAgICArIHVybFNwbGl0c1sxXVxuICAgICsgJyZwPSdcbiAgICArIHVybFNwbGl0c1syXTtcbmxldCBzZWFyY2hDb29raWVzID0gZ2V0VmFyKCdkb2dlX3Rva2VuJyk7XG5pZiAoc2VhcmNoQ29va2llcy5pbmRleE9mKCd0b2tlbicpIDwgMCB8fCBzZWFyY2hDb29raWVzLmluZGV4T2YoJ3ZJRCcpIDwgMCkge1xuICAgIGxldCBzZWFyY2hJbml0SHRtbCA9IGZldGNoKHNlYXJjaFVybCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnVXNlci1BZ2VudCc6IE1PQklMRV9VQVxuICAgICAgICB9LFxuICAgICAgICB3aXRoSGVhZGVyczogdHJ1ZSxcbiAgICAgICAgd2l0aFN0YXR1c0NvZGU6IHRydWUsXG4gICAgICAgIHJlZGlyZWN0OiBmYWxzZSxcbiAgICB9KTtcbiAgICBsZXQgc2VhcmNoSGVhZGVycyA9IEpTT04ucGFyc2Uoc2VhcmNoSW5pdEh0bWwpLmhlYWRlcnM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWFyY2hIZWFkZXJzW1wic2V0LWNvb2tpZVwiXS5sZW5ndGg7IGkrKykge1xuICAgICAgICBzZWFyY2hDb29raWVzICs9IChzZWFyY2hIZWFkZXJzW1wic2V0LWNvb2tpZVwiXVtpXSArICc7Jyk7XG4gICAgfVxuICAgIHB1dFZhcjIoJ2RvZ2VfdG9rZW4nLCBzZWFyY2hDb29raWVzKTtcbn1cbmxldCBodG1sID0gZmV0Y2goc2VhcmNoVXJsLCB7XG4gICAgaGVhZGVyczoge1xuICAgICAgICAnVXNlci1BZ2VudCc6IE1PQklMRV9VQSxcbiAgICAgICAgJ2Nvb2tpZSc6IHNlYXJjaENvb2tpZXNcbiAgICB9LFxufSlcblxuLy8gc2V0RXJyb3IoaHRtbCk7XG5cbnZhciBsaXN0ID0gcGFyc2VEb21Gb3JBcnJheShodG1sLCAnLnJlc3VsdHMmJi5yZXN1bHQnKTtcbi8vIHNldEVycm9yKEpTT04uc3RyaW5naWZ5KGxpc3QpKTtcbmZvciAodmFyIGogaW4gbGlzdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGxldCB1cmwgPSBwYXJzZURvbUZvckh0bWwobGlzdFtqXSwgJy5yZXN1bHRfX2V4dHJhc19fdXJsJiYucmVzdWx0X191cmxfX2RvbWFpbiYmVGV4dCcpO1xuICAgICAgICAvLyBzZXRFcnJvcihKU09OLnN0cmluZ2lmeSh1cmwpKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh1cmwuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cHM6Ly9cIiArIHVybFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7IH1cbiAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiBwYXJzZURvbUZvckh0bWwobGlzdFtqXSwgJy5yZXN1bHRfX3RpdGxlJiZUZXh0JyksXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiI2Z5cGFnZVwiICsgXCIjbm9IaXN0b3J5I1wiICsgKGhlYWRlcnMgPT09IFwiXCIgPyBcIlwiIDogaGVhZGVycyksXG4gICAgICAgICAgICBjb250ZW50OiBwYXJzZURvbUZvckh0bWwobGlzdFtqXSwgJy5yZXN1bHRfX3NuaXBwZXQmJlRleHQnKSxcbiAgICAgICAgICAgIGRlc2M6IHVybFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7IH1cbn1cblxucmVzLmRhdGEgPSBkO1xuc2V0U2VhcmNoUmVzdWx0KHJlcyk7Iiwic2VhcmNoX3VybCI6Imhpa2VyOi8vZW1wdHkvIyoqI2Z5cGFnZSIsInRpdGxlQ29sb3IiOiIjZmYxNDhlOGUiLCJncm91cCI6IiPvuI/ig6PluLjnlKgiLCJkZXRhaWxfY29sX3R5cGUiOiJ0ZXh0XzEiLCJkZXRhaWxfZmluZF9ydWxlIjoianM6XG52YXIgcmVzID0ge307XG52YXIgZCA9IFtdO1xudmFyIHVybFNwbGl0cyA9IE1ZX1VSTC5zcGxpdChcIiNcIik7XG52YXIgbVVybCA9IHVybFNwbGl0c1swXTtcbnZhciBwYWdlID0gdXJsU3BsaXRzWzFdO1xudmFyIGNvbFR5cGUgPSAncmljaF90ZXh0JztcblxuLy8g5piv5ZCm5pi+56S65biW5a2Q5YiG57G777yM5pi+56S6LzEg5LiN5pi+56S6LzBcbnZhciBzaG93TWV0YSA9IDE7XG4vLyDluJblrZDliIbnsbvlrZfkvZPlpKflsI8gYmlnL+WkpyBzcGFuL+S4rSBzbWFsbC/lsI9cbnZhciBtZXRhU2l6ZSA9ICdzbWFsbCc7XG4vLyDluJblrZDliIbnsbvpopzoibJcbnZhciBub2RlQ29sb3IgPSBcIiMyOTc5RkZcIjtcbi8vIOaYr+WQpuaYvuekuuato+aWh++8jOaYvuekui8xIOS4jeaYvuekui8wXG52YXIgc2hvd0NvbnRlbnQgPSAxO1xuLy8g5piv5ZCm5pi+56S66K+E6K6677yM5pi+56S6LzEg5LiN5pi+56S6LzBcbnZhciBzaG93Q29tbWVudCA9IDE7XG4vLyDmmK/lkKbpmpDol4/lm77niYfvvIzpmpDol48vMSDkuI3pmpDol48vMFxudmFyIGhpZGVJbWcgPSAwO1xuLy8g5L2/55SoIGVtb2ppIOWbvuagh+abv+aNouaWh+acrO+8jOS9v+eUqC8xIOS4jeS9v+eUqC8wXG52YXIgdXNlRW1vamkgPSAxO1xuLy8g6K+E6K6655So5oi36aKc6ImyXG52YXIgdXNlckNvbG9yID0gXCIjMjk3OUZGXCI7XG4vLyDor4Torrrlm57lpI3lvJXnlKjnlKjmiLfpopzoibJcbnZhciBxdW90ZVVzZXJDb2xvciA9IFwiYmxhY2tcIjtcblxuLyoqXG4gKiDnlKjmiLcgVG9rZW4gKOmcgOimgeWFiOeZu+W9leaJjeiDveiOt+WPlilcbiAqXG4gKiDmipPljIUgQ29va2llIOS4reeahCB1c2VyVG9rZW49IOWQjumdoumCo+S4suS4nOilv1xuICog5oiWXG4gKiDkuI3loavlhpnlm7rlrprlgLwg5YiZ6ZyA6YWN5ZCI5LiT55So5o+S5Lu26Ieq5Yqo6I635Y+WXG4gKiDkvYbmr4/mrKHov5DooYzop4bnlYzpg73pnIDmiZPlvIDkuIDmrKHorrrlnZtcbiAqL1xudmFyIHRva2VuID0gJyc7XG5cbi8qKlxuICog5piv5ZCm5L2/55So5o+S5Lu26Ieq5Yqo6I635Y+WIFRva2VuIOeahOaWueW8j1xuICpcbiAqIOaYry8xIOWQpi8wXG4gKi9cbnZhciBhdXRvVG9rZW4gPSAwO1xuXG4vKipcbiAqIOmAmui/h+aPkuS7tuiHquWKqOiOt+WPliBUb2tlbiDliLDmlofku7bkuK3nhLblkI7oh6rliqjor7vlj5ZcbiAqXG4gKiDms6jmhI/vvJrku6XkuIrmlrnnmoQgdG9rZW4g5Li65Li7XG4gKi9cbnZhciBmaWxlVG9rZW4gPSBnZXRWYXIoJ2hpa2VyX3Rva2VuJyk7XG5pZiAoZmlsZVRva2VuID09PSAnJykge1xudHJ5IHtcbiAgICBmaWxlVG9rZW4gPSBmZXRjaCAoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvanMvaGlrZXJiYnNfdG9rZW4uanMnLCB7fSk7XG4gICAgaWYgKGZpbGVUb2tlbiA9PSBudWxsKSBmaWxlVG9rZW4gPSAnJztcbn0gY2F0Y2ggKGUpIHtcbiAgICBmaWxlVG9rZW4gPSAnJztcbn1cbn1cbnRva2VuID0gdG9rZW4gPT09ICcnID8gZmlsZVRva2VuIDogdG9rZW47XG52YXIgc2hvd1Rva2VuID0gdG9rZW4gPT09ICcnID8gZ2V0VmFyKFwiaGlrZXJiYnNcIikgOiB0b2tlbjtcbmlmIChhdXRvVG9rZW4pIHRva2VuID0gc2hvd1Rva2VuO1xuLy8gaWYgKHRva2VuID09PSAnJyAmJiBzaG93VG9rZW4gIT09ICcnKSBzZXRFcnJvcihzaG93VG9rZW4pO1xuXG4vLyDmmK/lkKbmmL7npLrloavlhpkgVG9rZW4g5o+Q56S677yM5pi+56S6LzEg5LiN5pi+56S6LzBcbnZhciBzaG93SW5wdXRUb2tlblRpcHMgPSAxO1xuLy8g5piv5ZCm5byA5ZCv5pS26JePL+eCuei1nue7k+aenOaPkOekuu+8jOaYry8xIOWQpi8wXG52YXIgcmVzdWx0VGlwcyA9IDE7XG4vLyDnrKzlh6DlpZflm77moIfvvIwtMeS4uumaj+acuu+8jOS7juS4i+mdouS4ieS4quaVsOe7hOaMkemAiVxudmFyIGljb25JbmRleCA9IC0xO1xuLy8g5pS26JeP5Zu+5qCHXG52YXIgc3Rhckljb25zID0gWyAnaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyODYyMTcmc2l6ZT0xMjgnLFxuXTtcbi8vIOeCuei1nuWbvuagh1xudmFyIGxpa2VJY29ucyA9IFsgJ2h0dHBzOi8vd3d3LmVhc3lpY29uLm5ldC9hcGkvcmVzaXplQXBpLnBocD9pZD0xMjg4MjE3JnNpemU9MTI4JyxcbiAgICAvKidodHRwczovL3d3dy5lYXN5aWNvbi5uZXQvYXBpL3Jlc2l6ZUFwaS5waHA/aWQ9MTIxMTUwNyZzaXplPTEyOCcsXG4gICAgJ2h0dHBzOi8vd3d3LmVhc3lpY29uLm5ldC9hcGkvcmVzaXplQXBpLnBocD9pZD0xMjM5NTExJnNpemU9MTI4JyovXG5dO1xuLy8g5Zue5aSN5Zu+5qCHXG52YXIgY29tbWVudEljb25zID0gWyAnaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyMzk0OTUmc2l6ZT0xMjgnLFxuXTtcbi8vIOWOn+aWh+eroOWbvuagh1xuLyp2YXIgYXJ0aWNsZUljb25zID0gWyAnaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyMzg1MjImc2l6ZT0xMjgnLFxuXTsqL1xuXG5sZXQgaW1nRXJyb3IgPSAnPHA+PGZvbnQgY29sb3I9XCJncmV5XCI+5Zu+54mH5pqC5pe25peg5rOV5pi+56S677yM6Iul6KaB5p+l55yL6K+3PGEgaHJlZj1cIicgKyBNWV9VUkwgKyAnXCI+6K6/6Zeu5Y6f5paHPC9hPjwvZm9udD48L3A+JztcblN0cmluZy5wcm90b3R5cGUucmVwbGFjZVdpdGhDb25maXJtID0gZnVuY3Rpb24gKGNvbmZpcm1WYWx1ZSwgc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSkge1xuICAgIGxldCByZXR1cm5WYWx1ZSA9IHRoaXM7XG4gICAgaWYgKGNvbmZpcm1WYWx1ZSkge1xuICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXMucmVwbGFjZShzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlV2l0aENhbGxiYWNrID0gZnVuY3Rpb24gKHNlYXJjaFZhbHVlLCByZXBsYWNlVmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgbGV0IHJldHVyblZhbHVlID0gdGhpcztcbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm5WYWx1ZSA9IGNhbGxiYWNrKHRoaXMsIHNlYXJjaFZhbHVlLCByZXBsYWNlVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuZnVuY3Rpb24gaW1nVGFnKGNvbnRleHQsIGltZ1VybCkge1xuICAgIGxldCByZXBsYWNlU3RyaW5nID0gaW1nVXJsID09PSAnJyA/IGltZ0Vycm9yIDogJzxwPjxzaG93aW1nIHNyYz1cIicgKyAoaW1nVXJsICsgJ0BSZWZlcmVyPWh0dHBzOi8vaGFpa3Vvc2hpamllLmNuJykgKyAnXCI+PC9wPic7XG4gICAgaWYgKGhpZGVJbWcpIHtcbiAgICAgICAgcmVwbGFjZVN0cmluZyA9IGltZ1VybCA9PT0gJycgPyBpbWdFcnJvciA6ICc8cD48YSBocmVmPVwiJyArIGltZ1VybCArICdcIj5b54K55Ye75p+l55yL5aSn5Zu+XTwvYT48L3A+JztcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQucmVwbGFjZSgvPGltZyBkYXRhLXY+L2csIHJlcGxhY2VTdHJpbmcpO1xufVxuZnVuY3Rpb24gaW1nVGFnUmVwbGFjZW1lbnQyKGNvbnRleHQsIHNlYXJjaFZhbHVlLCByZXBsYWNlVmFsdWUpIHtcbiAgICBsZXQgbWF0Y2hBcnJheSA9IGNvbnRleHQubWF0Y2goc2VhcmNoVmFsdWUpO1xuICAgIGxldCByZXR1cm5WYWx1ZSA9IGNvbnRleHQ7XG4gICAgaWYgKG1hdGNoQXJyYXkgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGNoQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gbWF0Y2hBcnJheVtpXTtcbiAgICAgICAgICAgIC88aW1nIChzcmN8ZGF0YS1zcmMpPVwiKC4qPylcIihbXFxzXFxTXSo/KT4vLnRlc3QoaXRlbSk7XG4gICAgICAgICAgICBsZXQgaW1nVXJsID0gUmVnRXhwLiQyO1xuICAgICAgICAgICAgaWYgKGltZ1VybCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHJldHVyblZhbHVlLnJlcGxhY2UoaXRlbSwgcmVwbGFjZVZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGltZ1RhZyhyZXR1cm5WYWx1ZSwgaW1nVXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG59XG5mdW5jdGlvbiBhYmJyZXZpYXRlUmVwbHlUZXh0KGNvbnRleHQsIHRleHRBcnJheSkge1xuICAgIGxldCBjb250ZW50ID0gY29udGV4dDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdGV4dCA9IHBhcnNlRG9tRm9ySHRtbCh0ZXh0QXJyYXlbaV0sIFwicCYmVGV4dFwiKTtcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gMzApIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UodGV4dCwgdGV4dC5zdWJzdHJpbmcoMCwgMzApICsgXCIuLi4uLi5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbmlmIChwYWdlID4gMSkge1xuXG4gICAgbGV0IGN1cnNvciA9IGdldFZhcihcImN1cnNvclwiKTtcbiAgICBpZiAocGFnZSA9PT0gJzInKSBjdXJzb3IgPSBnZXRWYXIoXCJmaXJzdF9wYWdlX2N1cnNvclwiKTtcbiAgICBjdXJzb3IgPSBjdXJzb3IgPT09ICcnID8gJzAnIDogY3Vyc29yO1xuXG4gICAgbGV0IHVybFRlbXBsYXRlID0gXCJodHRwOi8vaGFpa3Vvc2hpamllLmNuL2FwaS9jb21tZW50L2xpc3Q/ZW50aXR5VHlwZT10b3BpYyZlbnRpdHlJZD17ZW50aXR5SWR9JmN1cnNvcj17Y3Vyc29yfVwiO1xuICAgIGlmICgvdG9waWNcXC8oXFxkKykvLnRlc3QoTVlfVVJMKSA9PT0gdHJ1ZSkge1xuICAgICAgICBsZXQgZW50aXR5SWQgPSBSZWdFeHAuJDE7XG4gICAgICAgIGlmIChlbnRpdHlJZCAhPSBudWxsICYmIGVudGl0eUlkICE9PSBcIlwiKSB7XG4gICAgICAgICAgICBsZXQgbm9Nb3JlID0gZ2V0VmFyKFwibm9Nb3JlXCIgKyBlbnRpdHlJZCk7XG4gICAgICAgICAgICBub01vcmUgPSBub01vcmUgPT09ICcnID8gJzAnIDogbm9Nb3JlO1xuICAgICAgICAgICAgdXJsVGVtcGxhdGUgPSB1cmxUZW1wbGF0ZS5yZXBsYWNlKFwie2VudGl0eUlkfVwiLCBlbnRpdHlJZCk7XG4gICAgICAgICAgICB1cmwgPSB1cmxUZW1wbGF0ZS5yZXBsYWNlKFwie2N1cnNvcn1cIiwgY3Vyc29yKTtcbiAgICAgICAgICAgIC8vIHVybCA9IFwiaHR0cDovL2hhaWt1b3NoaWppZS5jbi9hcGkvY29tbWVudC9saXN0P2VudGl0eVR5cGU9dG9waWMmZW50aXR5SWQ9Mzk4JmN1cnNvcj05MTgzXCI7XG4gICAgICAgICAgICBsZXQganNvbiA9IHt9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShmZXRjaCh1cmwsIHt9KSk7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBqc29uLmRhdGE7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSBkYXRhLnJlc3VsdHM7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbm93VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICBwdXRWYXIoe2tleTogJ2N1cnNvcicsIHZhbHVlOiBkYXRhLmN1cnNvcn0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRpbWVEaWZmKG5vd1RpbWUsIGNyZWF0ZVRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGUucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChmbXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJNK1wiOiB0aGlzLmdldE1vbnRoKCkgKyAxLCAgICAgICAgICAgICAgICAgLy/mnIjku71cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkK1wiOiB0aGlzLmdldERhdGUoKSwgICAgICAgICAgICAgICAgICAgIC8v5pelXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaCtcIjogdGhpcy5nZXRIb3VycygpLCAgICAgICAgICAgICAgICAgICAvL+Wwj+aXtlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm0rXCI6IHRoaXMuZ2V0TWludXRlcygpLCAgICAgICAgICAgICAgICAgLy/liIZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzK1wiOiB0aGlzLmdldFNlY29uZHMoKSwgICAgICAgICAgICAgICAgIC8v56eSXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicStcIjogTWF0aC5mbG9vcigodGhpcy5nZXRNb250aCgpICsgMykgLyAzKSwgLy/lraPluqZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJTXCI6IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkgICAgICAgICAgICAgLy/mr6vnp5JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvKHkrKS8udGVzdChmbXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKHRoaXMuZ2V0RnVsbFllYXIoKSArIFwiXCIpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrIGluIG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoXCIoXCIgKyBrICsgXCIpXCIpLnRlc3QoZm10KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCAoUmVnRXhwLiQxLmxlbmd0aCA9PT0gMSkgPyAob1trXSkgOiAoKFwiMDBcIiArIG9ba10pLnN1YnN0cigoXCJcIiArIG9ba10pLmxlbmd0aCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm10O1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lID0gbmV3IERhdGUoY3JlYXRlVGltZSkuZm9ybWF0KFwieXl5eS1NTS1kZCBoaDptbTpzc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lRGlmZiA9IG5vd1RpbWUgLSBjcmVhdGVUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRheXMgPSBNYXRoLmZsb29yKHRpbWVEaWZmIC8gKDI0ICogMzYwMCAqIDEwMDApKTsgLy8g6K6h566X5Ye65aSp5pWwXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF5TGVhdmUgPSB0aW1lRGlmZiAlICgyNCAqIDM2MDAgKiAxMDAwKTsgLy8g6K6h566X5aSp5pWw5ZCO5Ymp5L2Z55qE5pe26Ze0XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaG91cnMgPSBNYXRoLmZsb29yKGRheUxlYXZlIC8gKDM2MDAgKiAxMDAwKSk7IC8vIOiuoeeul+WkqeaVsOWQjuWJqeS9meeahOWwj+aXtuaVsFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhvdXJMZWF2ZSA9IHRpbWVEaWZmICUgKDM2MDAgKiAxMDAwKTsgLy8g6K6h566X5Ymp5L2Z5bCP5pe25ZCO5Ymp5L2Z55qE5q+r56eS5pWwXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWludXRlcyA9IE1hdGguZmxvb3IoaG91ckxlYXZlIC8gKDYwICogMTAwMCkpOyAvLyDorqHnrpfliankvZnnmoTliIbpkp/mlbBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgwIDwgZGF5cyAmJiBkYXlzIDwgMzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gZGF5cyArIFwi5aSp5YmNXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF5cyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG91cnMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBob3VycyArIFwi5bCP5pe25YmNXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IG1pbnV0ZXMgKyBcIuWIhumSn+WJjVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBxdW90ZUNvbnRlbnQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucXVvdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBxdW90ZSA9IHJlc3VsdC5xdW90ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IHBhcnNlRG9tRm9ySHRtbChxdW90ZS5jb250ZW50LCAnYm9keSYmSHRtbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuaWNrbmFtZSA9IHF1b3RlLnVzZXIubmlja25hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2Jsb2cuY3Nkbi5uZXQvR3Jvb3RCYWJ5L2FydGljbGUvZGV0YWlscy85OTk4MDM5NVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjcmVhdGVUaW1lID0gcXVvdGUudXNlci5jcmVhdGVUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lID0gdGltZURpZmYobm93VGltZSwgY3JlYXRlVGltZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzxhW1xcc1xcU10uKj88XFwvYT4vZywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudFJlcGx5VGV4dEFycmF5ID0gY29udGVudC5tYXRjaCgvPHBbXFxzXFxTXS4qPzxcXC9wPi9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGFiYnJldmlhdGVSZXBseVRleHQoY29udGVudCwgY29tbWVudFJlcGx5VGV4dEFycmF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1b3RlQ29udGVudCA9ICc8YmxvY2txdW90ZSBjbGFzcz1cImNvbW1lbnQtcXVvdGVcIj48ZGl2IGNsYXNzPVwiY29tbWVudC1xdW90ZS11c2VyXCI+PGEgY2xhc3M9XCJxdW90ZS1uaWNrbmFtZVwiPjxmb250IGNvbG9yPVwiJyArIHF1b3RlVXNlckNvbG9yICsgJ1wiPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBuaWNrbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICc8L2ZvbnQ+PC9hPjxzcGFuIGNsYXNzPVwicXVvdGUtdGltZVwiPjxmb250IGNvbG9yPVwiZ3JleVwiPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnXFx0XFx0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIHRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnPC9mb250Pjwvc3Bhbj48L2Rpdj48ZGl2IGl0ZW1wcm9wPVwidGV4dFwiPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJzwvZGl2PjwvYmxvY2txdW90ZT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSAnPHA+JyArIHJlc3VsdC5jb250ZW50ICsgJzwvcD4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1ldGEgPSAnPGJyPjxzbWFsbD48Zm9udCBjb2xvcj1cIicgKyB1c2VyQ29sb3IgKyAnXCI+J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgcmVzdWx0LnVzZXIubmlja25hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICc8L2ZvbnQ+XFx0XFx0PGZvbnQgY29sb3I9XCJncmV5XCI+J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgdGltZURpZmYobm93VGltZSwgcmVzdWx0LmNyZWF0ZVRpbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnXFx0XFx05Zue5aSNJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJzwvZm9udD48L3NtYWxsPic7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudENvbnRlbnQgPSBxdW90ZUNvbnRlbnQgKyBjb250ZW50ICsgbWV0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IGNvbW1lbnRDb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzxpbWcgY2xhc3M9XCJhdmF0YXIoW1xcc1xcU10qPyk+L2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oPChwKShbXFxzXFxTXSo/KT4pfDxwPnw8XFwvcD4vZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VXaXRoQ2FsbGJhY2soLzxpbWcgKHNyY3xkYXRhLXNyYyk9XCIoLio/KVwiKFtcXHNcXFNdKj8pPi9nLCBcIjxpbWcgZGF0YS12PlwiLCBpbWdUYWdSZXBsYWNlbWVudDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzxpbWcoW1xcc1xcU10qPyk+L2csIGltZ0Vycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88c2hvd2ltZy9nLCAnPGltZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBNWV9VUkwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IGNvbFR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub01vcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiPHA+PC9wPlwiICsgJzxjZW50ZXI+PGZvbnQgY29sb3I9XCJncmV5XCI+5bey5peg5pu05aSa6K+E6K66PC9mb250PjwvY2VudGVyPicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IGNvbFR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0VmFyKHtrZXk6ICdub01vcmUnICsgZW50aXR5SWQsIHZhbHVlOiAxfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IGVsc2Uge1xuICAgIHZhciBodG1sID0gZ2V0UmVzQ29kZSgpO1xudHJ5IHtcbiAgICB2YXIganMgPSBwYXJzZURvbShodG1sLCAnLm1haW4tY29udGVudCYmSHRtbCcpO1xuICAgIHZhciBoYXNSdWxlID0gMDtcblxuICAgIC8vIHNldEVycm9yKGh0bWwpO1xuXG4gICAgdHJ5IHtcblxuICAgICAgICBsZXQgdGl0bGUgPSAnPHA+PC9wPjxiaWcgc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDE1cHhcIj48c3Ryb25nPicgKyBwYXJzZURvbUZvckh0bWwoaHRtbCwgJy50b3BpYy1oZWFkZXItY2VudGVyJiZoMSYmSHRtbCcpICsgXCI8L3N0cm9uZz48L2JpZz5cIjtcbiAgICAgICAgbGV0IG1ldGEgPSAnJztcbiAgICAgICAgLy8gcGFyc2VEb21Gb3JIdG1sKGh0bWwsJy50b3BpYy1oZWFkZXItY2VudGVyJiYudG9waWMtbWV0YSYmSHRtbCcpXG4gICAgICAgIGxldCBjb3VudCA9ICc8c3BhbiBzdHlsZT1cImNvbG9yOiBncmV5XCI+JyArIHBhcnNlRG9tRm9ySHRtbChodG1sLCAnLnRvcGljLWhlYWRlci1jZW50ZXImJi50b3BpYy1oZWFkZXItcmlnaHQmJlRleHQnKSArIFwiPC9zcGFuPlwiO1xuXG4gICAgICAgIGlmIChzaG93TWV0YSkge1xuICAgICAgICAgICAgbGV0IG1ldGFJdGVtcyA9IHBhcnNlRG9tRm9yQXJyYXkoaHRtbCwgJy50b3BpYy1tZXRhJiYubWV0YS1pdGVtJyk7XG4gICAgICAgICAgICAvLyBzZXRFcnJvcihKU09OLnN0cmluZ2lmeShtZXRhSXRlbXMpKTtcbiAgICAgICAgICAgIGxldCBtZXRhTm9kZSA9IHBhcnNlRG9tRm9ySHRtbChtZXRhSXRlbXNbMl0sICdUZXh0Jyk7XG4gICAgICAgICAgICBtZXRhID0gJzxmb250IGNvbG9yPVwiZ3JleVwiPicgKyBwYXJzZURvbUZvckh0bWwobWV0YUl0ZW1zWzBdLCAnVGV4dCcpXG4gICAgICAgICAgICAgICAgKyAnICAnXG4gICAgICAgICAgICAgICAgKyBwYXJzZURvbUZvckh0bWwobWV0YUl0ZW1zWzFdLCAnVGV4dCcpXG4gICAgICAgICAgICAgICAgKyAnICAnXG4gICAgICAgICAgICAgICAgKyAnPC9mb250Pjxmb250IGNvbG9yPVwiJyArIG5vZGVDb2xvciArICdcIj4nICsgbWV0YU5vZGUgKyAnPC9mb250Pjxmb250IGNvbG9yPVwiZ3JleVwiPic7XG4gICAgICAgICAgICBsZXQgbWV0YVRhZ3MgPSBwYXJzZURvbUZvckFycmF5KCc8ZGl2PicgKyBtZXRhSXRlbXNbM10gKyAnPC9kaXY+JywgJ2RpdiYmLnRhZycpO1xuICAgICAgICAgICAgLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkobWV0YVRhZ3MpKTtcbiAgICAgICAgICAgIGxldCBtZXRhVGFnID0gJyc7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1ldGFUYWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbWV0YVRhZyA9IChtZXRhVGFnID09PSAnJyA/IG1ldGFUYWcgOiAobWV0YVRhZyArICcgICcpKVxuICAgICAgICAgICAgICAgICAgICArIHBhcnNlRG9tRm9ySHRtbChtZXRhVGFnc1tpXSwgJ1RleHQnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWV0YVRhZyA9IG1ldGFUYWcucmVwbGFjZSgn572u6aG2JywgJ+KAnOKAnOe9rumhtuKAneKAnScpO1xuICAgICAgICAgICAgbWV0YVNpemUgPSBtZXRhU2l6ZSA9PT0gJycgPyAnc21hbGwnIDogbWV0YVNpemU7XG4gICAgICAgICAgICBtZXRhID0gJzwnICsgbWV0YVNpemUgKyAnPicgKyBtZXRhICsgJyAgJyArIG1ldGFUYWcgKyAnPC9mb250PjwvJyArIG1ldGFTaXplICsgJz4nICsgJzxicj4nO1xuICAgICAgICAgICAgLy8gc2V0RXJyb3IobWV0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDwn5GN8J+Pu+KdpO+4j/Cfp6HimaHimaXwn5Ks8J+Rge+4j+Kev/CTgbpcbiAgICAgICAgaWYgKHVzZUVtb2ppKVxuICAgICAgICAgICAgY291bnQgPSBjb3VudC5yZXBsYWNlKFwi6I636LWe77yaXCIsIFwi4p2k77iPIFwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwi6K+E6K6677yaXCIsIFwi8J+SrCBcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIuafpeeci++8mlwiLCBcIvCfkYHvuI8gXCIpO1xuXG4gICAgICAgIGxldCBoZWFkZXIgPSBcIlwiICsgdGl0bGUgKyAnXFx0PHNtYWxsPjxmb250IGNvbG9yPVwiZ3JleVwiPjxhIGhyZWY9XCInICsgTVlfVVJMICsgJ1wiPlvmn6XnnIvljp/mloddPC9hPjwvZm9udD48L3NtYWxsPicgKyBcIjxicj5cIiArIG1ldGEgKyBjb3VudCArICcnO1xuXG4gICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogaGVhZGVyLFxuICAgICAgICAgICAgY29sX3R5cGU6IGNvbFR5cGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspXG4gICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzaG93Q29udGVudCkge1xuICAgICAgICAgICAgbGV0IHRpdGxlID0gcGFyc2VEb21Gb3JIdG1sKGh0bWwsICcuY29udGVudCYmSHRtbCcpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2VXaXRoQ2FsbGJhY2soLzxpbWcgKHNyY3xkYXRhLXNyYyk9XCIoLio/KVwiKFtcXHNcXFNdKj8pPi9nLCBcIjxpbWcgZGF0YS12PlwiLCBpbWdUYWdSZXBsYWNlbWVudDIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLzxpbWcoW1xcc1xcU10qPyk+L2csIGltZ0Vycm9yKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88c2hvd2ltZy9nLCAnPGltZycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyg8KGRpdikoW1xcc1xcU10qPyk+KXw8ZGl2Pnw8XFwvZGl2Pi9nLCAnJyk7XG4gICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIjxwPjwvcD5cIiArIHRpdGxlXG4gICAgICAgICAgICAgICAgLFxuICAgICAgICAgICAgICAgIGRlc2M6ICcnLFxuICAgICAgICAgICAgICAgIHVybDogJycsXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6IGNvbFR5cGVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVnRXhwID0gLyguKj8p77+lKC4qPynvv6UoLiopLztcbiAgICAgICAgaWYgKGpzLmluZGV4T2YoJz7mtbfpmJQnKSAhPT0gLTEpIHtcblxuICAgICAgICAgICAgLyppZiAoc2hvd0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCAyOyBpKyspXG4gICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZSdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9Ki9cblxuICAgICAgICAgICAgbGV0IGNvbCA9IFwidGV4dF8xXCI7XG4gICAgICAgICAgICBsZXQgbGlzdCA9IGpzLm1hdGNoKC8+5rW36ZiUW1xcc1xcU10qPzxcXC8vZyk7XG4gICAgICAgICAgICBpZiAobGlzdCAhPSBudWxsICYmIGxpc3QubGVuZ3RoICE9PSAwKSBoYXNSdWxlID0gMTtcbiAgICAgICAgICAgIGlmIChsaXN0ICE9IG51bGwgJiYgbGlzdC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiPHA+PC9wPlwiICsgXCI8YmlnPjxiPuacrOaWh+aJgOacieinhOWImeS4gOmUruWvvOWFpTwvYj48L2JpZz5cIixcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IGNvbFR5cGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGlzdC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IGxpc3Rbal0uc3BsaXQoJz4nKVsxXS5zcGxpdCgnPC8nKVswXTtcbiAgICAgICAgICAgICAgICBsZXQgbVRpdGxlID0gdGl0bGU7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVnRXhwLnRlc3QodGl0bGUpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IFwidGV4dF8zXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkgbVRpdGxlID0gXCLkuIDplK7lr7zlhaVcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHJlZ0V4cDEgPSAvKHRpdGxlXCI6XCIoLio/KVwiKXwoYmFzZTY0OlxcL1xcL0AoLio/KUApfCgoLio/KUApLztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldEVycm9yIChSZWdFeHAuJDIpXG4gICAgICAgICAgICAgICAgICAgICAgICBtVGl0bGUgPSBSZWdFeHAuJDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBtVGl0bGUgPSAobVRpdGxlICE9IG51bGwgJiYgbVRpdGxlICE9PSAnJykgPyBtVGl0bGUgOiB0aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoUmVnRXhwLiQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhvbWVfcnVsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvdGl0bGVcIjpcIiguKj8pXCIvLnRlc3QobVRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbVRpdGxlID0gUmVnRXhwLiQxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaG9tZV9ydWxlX3YyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9iYXNlNjQ6XFwvXFwvQCguKj8pQC8udGVzdChtVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtVGl0bGUgPSBSZWdFeHAuJDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJqc191cmxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyguKj8pQC8udGVzdChtVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtVGl0bGUgPSBSZWdFeHAuJDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJob21lX3J1bGVfdXJsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1UaXRsZSA9IFwi6aaW6aG15ZCI6ZuGXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib29rbWFya191cmxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbVRpdGxlID0gXCLkuabnrb7lkIjpm4ZcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGl0bGUgPSAobVRpdGxlICE9IG51bGwgJiYgbVRpdGxlICE9PSAnJykgPyBtVGl0bGUgOiB0aXRsZTtcbiAgICAgICAgICAgICAgICBpZiAodGl0bGUubGVuZ3RoID4gMTQpIGNvbCA9IFwidGV4dF8yXCI7XG5cbiAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6ICfwn5SU4oCY4oCY4oCZ4oCZPGI+IOeCueWHu+WvvOWFpSA8L2I+8J+UlCcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKGRlY29kZVVSSUNvbXBvbmVudChsaXN0W2pdLnNwbGl0KCc+JylbMV0uc3BsaXQoJzwvJylbMF0ucmVwbGFjZSgvYW1wOy9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csICc8JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mZ3Q7L2csICc+JykpKSxcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IGNvbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKGpzLmluZGV4T2YoJzxjb2RlPuaWueWchicpICE9PSAtMSkge1xuXG4gICAgICAgICAgICAvKmlmIChzaG93Q29udGVudCkge1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IDI7IGkrKylcbiAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICBsZXQgbGlzdCA9IGpzLm1hdGNoKC88Y29kZT7mlrnlnIZbXFxzXFxTXSo/PFxcL2NvZGUvZyk7XG5cbiAgICAgICAgICAgIGlmIChsaXN0ICE9IG51bGwgJiYgbGlzdC5sZW5ndGggIT09IDApIGhhc1J1bGUgPSAxO1xuICAgICAgICAgICAgaWYgKGxpc3QgIT0gbnVsbCAmJiBsaXN0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCI8cD48L3A+XCIgKyBcIjxiaWc+PGI+5pys5paH5omA5pyJ6KeE5YiZ5LiA6ZSu5a+85YWlPC9iPjwvYmlnPlwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogY29sVHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBwYXJzZURvbUZvckh0bWwobGlzdFtqXSwgJ2NvZGUmJlRleHQnKTtcbiAgICAgICAgICAgICAgICBsZXQgbVRpdGxlID0gdGl0bGU7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVnRXhwLnRlc3QodGl0bGUpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IFwidGV4dF8zXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkgbVRpdGxlID0gXCLkuIDplK7lr7zlhaVcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbVRpdGxlID0gUmVnRXhwLiQzO1xuICAgICAgICAgICAgICAgICAgICAgICAgbVRpdGxlID0gKG1UaXRsZSAhPSBudWxsICYmIG1UaXRsZSAhPT0gJycpID8gbVRpdGxlIDogdGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKFJlZ0V4cC4kMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzb3VyY2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3RpdGxlXCI6XCIoLio/KVwiLy50ZXN0KG1UaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1UaXRsZSA9IFJlZ0V4cC4kMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGl0bGUgPSAobVRpdGxlICE9IG51bGwgJiYgbVRpdGxlICE9PSAnJykgPyBtVGl0bGUgOiB0aXRsZTtcblxuICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+eCueWHu+WvvOWFpScsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKGRlY29kZVVSSUNvbXBvbmVudChsaXN0W2pdLnNwbGl0KCc+JylbMV0uc3BsaXQoJzwvJylbMF0ucmVwbGFjZSgvYW1wOy9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csICc8JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mZ3Q7L2csICc+JykpKSxcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IGNvbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgICBsZXQgc3Rhckljb24gPSBzdGFySWNvbnNbMF07XG4gICAgICAgICAgICBsZXQgbGlrZUljb24gPSBsaWtlSWNvbnNbMF07XG4gICAgICAgICAgICBsZXQgY29tbWVudEljb24gPSBjb21tZW50SWNvbnNbMF07XG4gICAgICAgICAgICAvLyBsZXQgYXJ0aWNsZUljb24gPSBhcnRpY2xlSWNvbnNbMF07XG4gICAgICAgICAgICBsZXQgc3Rhckljb25NYXggPSBzdGFySWNvbnMubGVuZ3RoLTE7XG4gICAgICAgICAgICBsZXQgbGlrZUljb25NYXggPSBsaWtlSWNvbnMubGVuZ3RoLTE7XG4gICAgICAgICAgICBsZXQgY29tbWVudEljb25NYXggPSBjb21tZW50SWNvbnMubGVuZ3RoLTE7XG4gICAgICAgICAgICAvLyBsZXQgYXJ0aWNsZUljb25NYXggPSBhcnRpY2xlSWNvbnMubGVuZ3RoLTE7XG4gICAgICAgICAgICBpZiAoaWNvbkluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGxldCBtYXhMZW4gPSBNYXRoLm1heChzdGFySWNvbk1heCwgbGlrZUljb25NYXgsIGNvbW1lbnRJY29uTWF4LyosIGFydGljbGVJY29uTWF4Ki8pO1xuICAgICAgICAgICAgICAgIGljb25JbmRleCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAobWF4TGVuICsgMSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJJY29uID0gc3Rhckljb25zW2ljb25JbmRleCA+IHN0YXJJY29uTWF4ID8gc3Rhckljb25NYXggOiBpY29uSW5kZXhdO1xuICAgICAgICAgICAgbGlrZUljb24gPSBsaWtlSWNvbnNbaWNvbkluZGV4ID4gbGlrZUljb25NYXggPyBsaWtlSWNvbk1heCA6IGljb25JbmRleF07XG4gICAgICAgICAgICBjb21tZW50SWNvbiA9IGNvbW1lbnRJY29uc1tpY29uSW5kZXggPiBjb21tZW50SWNvbk1heCA/IGNvbW1lbnRJY29uTWF4IDogaWNvbkluZGV4XTtcbiAgICAgICAgICAgIC8vIGFydGljbGVJY29uID0gYXJ0aWNsZUljb25zW2ljb25JbmRleCA+IGFydGljbGVJY29uTWF4ID8gYXJ0aWNsZUljb25NYXggOiBpY29uSW5kZXhdO1xuICAgICAgICAgICAgbGV0IGlzU3RhcnJlZCA9IDA7XG4gICAgICAgICAgICBsZXQgc3RhclN0YXR1cyA9ICcnO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGFyU3RhdHVzID0gcGFyc2VEb21Gb3JIdG1sKGh0bWwsIFwiLmZhdm9yaXRlLmFjdGl2ZSYmSHRtbFwiKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBzdGFyU3RhdHVzID0gJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFyU3RhdHVzICE9PSAnJykgaXNTdGFycmVkID0gMTtcbiAgICAgICAgICAgIC8vIHNldEVycm9yKHN0YXJTdGF0dXMpO1xuICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkLnB1c2goeyAvLyAgdGV4dF9jZW50ZXJfMSBpY29uX3NtYWxsXzNcbiAgICAgICAgICAgICAgICB0aXRsZTogaXNTdGFycmVkID09PSAwID8gJ+aUtuiXjycgOiAn5bey5pS26JePJyxcbiAgICAgICAgICAgICAgICBwaWNfdXJsOiBzdGFySWNvbixcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2ljb25fc21hbGxfMycsXG4gICAgICAgICAgICAgICAgdXJsOiBtVXJsICsgJyMnICsgdG9rZW4gKyAnIycgKyByZXN1bHRUaXBzICsgJyMnICsgaXNTdGFycmVkICsgYEBsYXp5UnVsZT0uanM6IHZhciB1cmxTcGxpdHM9aW5wdXQuc3BsaXQoJyMnKTt2YXIgbVVybD11cmxTcGxpdHNbMF07IHZhciB0b2tlbj11cmxTcGxpdHNbMV07dmFyIHJlc3VsdFRpcHM9cGFyc2VJbnQodXJsU3BsaXRzWzJdKTt2YXIgaXNTdGFycmVkPXBhcnNlSW50KHVybFNwbGl0c1szXSk7bGV0IG1lc3NhZ2UgPSAnJztpZiAoXFwvdG9waWNcXFxcLyhcXFxcZCspLy50ZXN0KG1VcmwpID09PSB0cnVlKXtsZXQgZW50aXR5SWQgPSBSZWdFeHAuJDE7aWYgKGVudGl0eUlkICE9IG51bGwgJiYgZW50aXR5SWQgIT09IFwiXCIpIHtsZXQgc3RhclVybD0naHR0cHM6XFwvXFwvaGFpa3Vvc2hpamllLmNuXFwvYXBpXFwvdG9waWNcXC9mYXZvcml0ZVxcLycrZW50aXR5SWQ7aWYoaXNTdGFycmVkKXtzdGFyVXJsPSdodHRwczpcXC9cXC9oYWlrdW9zaGlqaWUuY25cXC9hcGlcXC9mYXZvcml0ZVxcL2RlbGV0ZT9lbnRpdHlUeXBlPXRvcGljJmVudGl0eUlkPScrZW50aXR5SWQ7fSBsZXQgb3B0aW9ucz17aGVhZGVyczp7J1gtVXNlci1Ub2tlbic6IHRva2VufSxib2R5OiAnJywgbWV0aG9kOiAnR0VUJ307LypzZXRFcnJvciAob3B0aW9ucyk7Ki9sZXQgc3RhclJlc3VsdD1mZXRjaChzdGFyVXJsLCBvcHRpb25zKTsvKnNldEVycm9yIChzdGFyUmVzdWx0KTsqL2lmKHJlc3VsdFRpcHMpe3N0YXJSZXN1bHQ9SlNPTi5wYXJzZShzdGFyUmVzdWx0KTttZXNzYWdlPXN0YXJSZXN1bHQubWVzc2FnZTtpZihzdGFyUmVzdWx0Lm1lc3NhZ2U9PT0nJyl7aWYoc3RhclJlc3VsdC5zdWNjZXNzPT09dHJ1ZSl7bWVzc2FnZT1pc1N0YXJyZWQ9PT0xPyflt7Llj5bmtojmlLbol48nOifmlLbol4/miJDlip8nOyByZWZyZXNoUGFnZShmYWxzZSk7fX0gZWxzZSBpZiAoc3RhclJlc3VsdC5tZXNzYWdlID09PSAn6K+35YWI55m75b2VJykge2xldCB0b2tlbkZpbGUgPSAnaGlrZXI6XFwvXFwvZmlsZXNcXC9ydWxlc1xcL2pzXFwvaGlrZXJiYnNfdG9rZW4uanMnO3dyaXRlRmlsZSh0b2tlbkZpbGUsICcnKTttZXNzYWdlID0gJ+ivt+mHjeaWsOiuv+mXruS4gOasoeiuuuWdm+e9kemhteiOt+WPlueZu+W9leS/oeaBryc7fSBtZXNzYWdlPSd0b2FzdDpcXC9cXC8nK21lc3NhZ2U7fX19bWVzc2FnZWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZC5wdXNoKHsgLy8gIHRleHRfY2VudGVyXzEgaWNvbl9zbWFsbF8zXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfngrnotZ4nLFxuICAgICAgICAgICAgICAgIHBpY191cmw6IGxpa2VJY29uLFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl9zbWFsbF8zJyxcbiAgICAgICAgICAgICAgICB1cmw6IG1VcmwgKyAnIycgKyB0b2tlbiArICcjJyArIHJlc3VsdFRpcHMgKyBgQGxhenlSdWxlPS5qczogdmFyIHVybFNwbGl0cz1pbnB1dC5zcGxpdCgnIycpO3ZhciBtVXJsPXVybFNwbGl0c1swXTsgdmFyIHRva2VuPXVybFNwbGl0c1sxXTt2YXIgcmVzdWx0VGlwcz1wYXJzZUludCh1cmxTcGxpdHNbMl0pO2xldCBtZXNzYWdlID0gJyc7aWYgKFxcL3RvcGljXFxcXC8oXFxcXGQrKS8udGVzdChtVXJsKSA9PT0gdHJ1ZSl7bGV0IGVudGl0eUlkID0gUmVnRXhwLiQxO2lmIChlbnRpdHlJZCAhPSBudWxsICYmIGVudGl0eUlkICE9PSBcIlwiKSB7bGV0IGxpa2VVcmw9J2h0dHBzOlxcL1xcL2hhaWt1b3NoaWppZS5jblxcL2FwaVxcL3RvcGljXFwvbGlrZVxcLycrZW50aXR5SWQ7IGxldCBvcHRpb25zPXtoZWFkZXJzOnsnWC1Vc2VyLVRva2VuJzogdG9rZW59LGJvZHk6ICcnLCBtZXRob2Q6ICdQT1NUJ307LypzZXRFcnJvciAob3B0aW9ucyk7Ki9sZXQgbGlrZVJlc3VsdD1mZXRjaChsaWtlVXJsLCBvcHRpb25zKTsvKnNldEVycm9yIChsaWtlUmVzdWx0KTsqL2lmKHJlc3VsdFRpcHMpe2xpa2VSZXN1bHQ9SlNPTi5wYXJzZShsaWtlUmVzdWx0KTttZXNzYWdlPWxpa2VSZXN1bHQubWVzc2FnZTtpZihsaWtlUmVzdWx0Lm1lc3NhZ2U9PT0nJyl7aWYobGlrZVJlc3VsdC5zdWNjZXNzPT09dHJ1ZSltZXNzYWdlPSfngrnotZ7miJDlip8nO3JlZnJlc2hQYWdlKGZhbHNlKTt9IGVsc2UgaWYgKGxpa2VSZXN1bHQubWVzc2FnZSA9PT0gJ+ivt+WFiOeZu+W9lScpIHtsZXQgdG9rZW5GaWxlID0gJ2hpa2VyOlxcL1xcL2ZpbGVzXFwvcnVsZXNcXC9qc1xcL2hpa2VyYmJzX3Rva2VuLmpzJzt3cml0ZUZpbGUodG9rZW5GaWxlLCAnJyk7bWVzc2FnZSA9ICfor7fph43mlrDorr/pl67kuIDmrKHorrrlnZvnvZHpobXojrflj5bnmbvlvZXkv6Hmga8nO30gbWVzc2FnZT0ndG9hc3Q6XFwvXFwvJyttZXNzYWdlO319fW1lc3NhZ2VgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICflm57lpI0nLFxuICAgICAgICAgICAgICAgIHBpY191cmw6IGNvbW1lbnRJY29uLFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl9zbWFsbF8zJyxcbiAgICAgICAgICAgICAgICB1cmw6IG1VcmxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLypkLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5Y6f5paHJyxcbiAgICAgICAgICAgICAgICBwaWNfdXJsOiBhcnRpY2xlSWNvbixcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2ljb25fc21hbGxfMycsXG4gICAgICAgICAgICAgICAgdXJsOiBtVXJsXG4gICAgICAgICAgICB9KTsqL1xuICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2hvd0lucHV0VG9rZW5UaXBzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBsdWdpbkxhdGVzdCA9ICfmtbfpmJTop4bnlYzop4TliJnliIbkuqvvvIzlvZPliY3liIbkuqvnmoTmmK/vvJrnvZHpobXmj5Lku7bvvIxSZWJvcm7vv6Vqc191cmzvv6VoYWlrdW9zaGlqaWUuY25f6I635Y+W55So5oi3VG9rZW5AYmFzZTY0Oi8vS0daMWJtTjBhVzl1SUNncElIc0tJQ0FnSUM4djVMdU81TGlMNloyaTVMaUE2S0dNNWJ5QTVhZUw1WWFaNUx1ajU2Q0JDZ29nSUNBZ0wzVnpaWEpVYjJ0bGJqMG9XMkV0ZWtFdFdqQXRPVjBxS1RzcUx5NTBaWE4wS0dSdlkzVnRaVzUwTG1OdmIydHBaU2s3Q2lBZ0lDQXZMMkZzWlhKMEtHUnZZM1Z0Wlc1MExtTnZiMnRwWlNzaTRvQ21JaXRTWldkRmVIQXVKREVwT3dvS0lDQWdJQzh2SUdaNVgySnlhV1JuWlY5aGNIQXVjSFYwVm1GeUtDSm9hV3RsY21KaWMxOTBiMnRsYmlJc1VtVm5SWGh3TGlReEtUc0tJQ0FnSUdaNVgySnlhV1JuWlY5aGNIQXVkM0pwZEdWR2FXeGxLQ2RvYVd0bGNqb3ZMMlpwYkdWekwzSjFiR1Z6TDJwekwyaHBhMlZ5WW1KelgzUnZhMlZ1TG1wekp5d2dVbVZuUlhod0xpUXhLVHNLQ24wcEtDazcnO1xuICAgICAgICAgICAgICAgIGxldCBwbHVnaW5VcmwgPSAnaGlrZXI6Ly9maWxlcy9ydWxlcy9qcy9oYWlrdW9zaGlqaWUuY25f6I635Y+W55So5oi3VG9rZW4uanMnO1xuICAgICAgICAgICAgICAgIGxldCBwbHVnaW4gPSAnJztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4gPSBmZXRjaChwbHVnaW5VcmwsIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbiA9PSBudWxsKSBwbHVnaW4gPSAnJztcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbiA9Jyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBwbHVnaW5VcGRhdGUgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4gIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5MYXRlc3Quc3BsaXQoJ2Jhc2U2NDpcXC9cXC8nKVsxXSAhPT0gYmFzZTY0RW5jb2RlKHBsdWdpbikucmVwbGFjZSgvXFxuL2csICcnKSkgcGx1Z2luVXBkYXRlID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiPHA+PC9wPlwiICsgJzxzbWFsbD48Zm9udCBjb2xvcj1cImdyZXlcIj4nICsgICflpoLpnIDmlLbol4/miJbngrnotZ7lip/og73vvIzpnIDnmbvlvZXorrrlnZvlkI7miafooYzku6XkuIvmraXpqqTojrflj5YgVG9rZW7vvJo8YnI+W+acrOaPkOekuuWPr+e8lui+keinhOWImeWFs+mXrV08YnI+MS4gJyArICgocGx1Z2luID09PSAnJyB8fCBwbHVnaW5VcGRhdGUgPT09IDEpID8gJ+eCueWHu+S4i+aWueWPo+S7pOS7o+eggScgKyAocGx1Z2luVXBkYXRlID09PSAxID8gJzxiPuabtOaWsOaPkuS7tjwvYj4nIDogJ+WvvOWFpeS4k+eUqOaPkuS7ticpICsgJ++8jOeEtuWQjicgOiAn5L2g5bey5a+85YWl5pyA5paw5LiT55So5o+S5Lu277yM5Y+q6ZyAJykgKyAnPGEgaHJlZj1cIicgKyBNWV9VUkwgKyAnXCI+W+afpeeci+WOn+aWh108L2E+5LiA5qyh5YaN6L+U5Zue5Yi35pawJyArICgocGx1Z2luID09PSAnJyB8fCBwbHVnaW5VcGRhdGUgPT09IDEpID8gJzxicj48cHJlPjxjb2RlPicgKyBwbHVnaW5MYXRlc3QgKyAnPC9jb2RlPjwvcHJlPicgOiAnJykgKyBcIjwvZm9udD48L3NtYWxsPlwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogY29sVHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNob3dDb21tZW50KSB7XG4gICAgICAgICAgICAvKmlmIChoYXNSdWxlKSB7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgMjsgaSsrKVxuICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgIC9jdXJzb3I6XCIoLio/KVwiLy50ZXN0KGh0bWwpO1xuICAgICAgICAgICAgbGV0IGN1cnNvclRlbXAgPSBSZWdFeHAuJDE7XG4gICAgICAgICAgICBsZXQgY3Vyc29yID0gKGN1cnNvclRlbXAgIT0gbnVsbCAmJiBjdXJzb3JUZW1wICE9PSAnJykgPyBjdXJzb3JUZW1wIDogJzAnO1xuICAgICAgICAgICAgcHV0VmFyKHtrZXk6ICdjdXJzb3InLCB2YWx1ZTogY3Vyc29yfSk7XG4gICAgICAgICAgICBwdXRWYXIoe2tleTogJ2ZpcnN0X3BhZ2VfY3Vyc29yJywgdmFsdWU6IGN1cnNvcn0pO1xuXG4gICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIjxwPjwvcD5cIiArIFwiPGJpZz48Yj5cIiArIHBhcnNlRG9tRm9ySHRtbChodG1sLCAnLmNvbW1lbnQtdGl0bGUmJkh0bWwnKSArIFwiPC9iPjwvYmlnPlwiLFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBjb2xUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBwbCA9IHBhcnNlRG9tKGh0bWwsICcuY29tbWVudHMmJkh0bWwnKVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvPGxpW1xcc1xcU10qPzxcXC9saS9nKTtcbiAgICAgICAgICAgIGlmIChwbCA9PSBudWxsIHx8IHBsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIjxwPjwvcD5cIiArICc8Zm9udCBjb2xvcj1cImdyZXlcIj7mmoLml6Dor4Torro8L2ZvbnQ+JyxcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IGNvbFR5cGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwbC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAvLyAvKDwoZGl2fHApKFtcXHNcXFNdKj8pPil8PGRpdj58PHA+fDxcXC9kaXY+fDxcXC9wPi9nXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21tZW50Q29udGVudCA9IHBhcnNlRG9tRm9ySHRtbChwbFtqXSwgJy5jb21tZW50LWNvbnRlbnQmJkh0bWwnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzxpbWcgY2xhc3M9XCJhdmF0YXIoW1xcc1xcU10qPyk+L2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyg8KHApKFtcXHNcXFNdKj8pPil8PHA+fDxcXC9wPi9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlV2l0aENhbGxiYWNrKC88aW1nIChzcmN8ZGF0YS1zcmMpPVwiKC4qPylcIihbXFxzXFxTXSo/KT4vZywgXCI8aW1nIGRhdGEtdj5cIiwgaW1nVGFnUmVwbGFjZW1lbnQyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzxpbWcoW1xcc1xcU10qPyk+L2csIGltZ0Vycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzxzaG93aW1nL2csICc8aW1nJyk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudFJlcGx5VGV4dCA9IHBhcnNlRG9tRm9ySHRtbChwbFtqXSwgJy5jb21tZW50LXF1b3RlJiZIdG1sJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudFF1b3RlVXNlcm5hbWUgPSBwYXJzZURvbUZvckh0bWwoY29tbWVudFJlcGx5VGV4dCwgXCIucXVvdGUtbmlja25hbWUmJkh0bWxcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudFF1b3RlVGltZSA9IHBhcnNlRG9tRm9ySHRtbChjb21tZW50UmVwbHlUZXh0LCBcIi5xdW90ZS10aW1lJiZIdG1sXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudFJlcGx5VGV4dCA9IGNvbW1lbnRSZXBseVRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvPGFbXFxzXFxTXS4qPzxcXC9hPi9nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudFJlcGx5VGV4dEFycmF5ID0gY29tbWVudFJlcGx5VGV4dC5tYXRjaCgvPHBbXFxzXFxTXS4qPzxcXC9wPi9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRDb250ZW50ID0gYWJicmV2aWF0ZVJlcGx5VGV4dChjb21tZW50Q29udGVudCwgY29tbWVudFJlcGx5VGV4dEFycmF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKGNvbW1lbnRRdW90ZVVzZXJuYW1lLCAnPGZvbnQgY29sb3I9XCInICsgcXVvdGVVc2VyQ29sb3IgKyAnXCI+JyArIGNvbW1lbnRRdW90ZVVzZXJuYW1lICsgJzwvZm9udD4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKGNvbW1lbnRRdW90ZVRpbWUsICc8Zm9udCBjb2xvcj1cImdyZXlcIj4nICsgY29tbWVudFF1b3RlVGltZSArICc8L2ZvbnQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAvLyBwLC0yXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCI8cD48L3A+XCIgKyBjb21tZW50Q29udGVudCArICc8YnI+PHNtYWxsPicgKyBwYXJzZURvbUZvckh0bWwocGxbal0sICcuY29tbWVudC1uaWNrbmFtZSYmSHRtbCcpLnJlcGxhY2UoLzxhW1xcc1xcU10uKj8+L2csICc8Zm9udCBjb2xvcj1cIicgKyB1c2VyQ29sb3IgKyAnXCI+JykucmVwbGFjZSgvPFxcL2E+L2csIFwiPC9mb250PlwiKSArICdcXHRcXHQ8Zm9udCBjb2xvcj1cImdyZXlcIj4nICsgcGFyc2VEb21Gb3JIdG1sKHBsW2pdLCAnLmNvbW1lbnQtbWV0YS0tc3BhbiYmVGV4dCcpICsgJzwvZm9udD48L3NtYWxsPicsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogTVlfVVJMLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IGNvbFR5cGVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG59IGNhdGNoIChlKSB7XG5kLnB1c2goe1xudGl0bGU6ICc8cCBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj7or6XpobXpnaLml6Dms5Xop6PmnpDmiJbor53popjkuI3lrZjlnKg8L3A+PHAgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+PGEgaHJlZj1cIicgKyBNWV9VUkwgKydcIj7mn6XnnIvljp/mloc8L2E+PC9wPicsXG5jb2xfdHlwZTogJ3JpY2hfdGV4dCdcbn0pXG59XG59XG5cbnJlcy5kYXRhID0gZDtcbnNldEhvbWVSZXN1bHQocmVzKTsiLCJzZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsInNkZXRhaWxfZmluZF9ydWxlIjoiKiIsInVhIjoibW9iaWxlIiwicHJlUnVsZSI6Ii8qKlxuICog6YCa6L+H5o+S5Lu26Ieq5Yqo6I635Y+WIFRva2VuIOWIsOaWh+S7tuS4reeEtuWQjuiHquWKqOivu+WPllxuICpcbiAqIOazqOaEj++8muS7peS4iuaWueeahCB0b2tlbiDkuLrkuLtcbiAqL1xudmFyIGZpbGVUb2tlbiA9ICcnO1xudHJ5IHtcbiAgICBmaWxlVG9rZW4gPSBmZXRjaCAoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvanMvaGlrZXJiYnNfdG9rZW4uanMnLCB7fSk7XG4gICAgaWYgKGZpbGVUb2tlbiA9PSBudWxsKSBmaWxlVG9rZW4gPSAnJztcbn0gY2F0Y2ggKGUpIHtcbiAgICBmaWxlVG9rZW4gPSAnJztcbn1cbnB1dFZhcjIoJ2hpa2VyX3Rva2VuJywgZmlsZVRva2VuKTsifQ=="
    },
    {
      "title": "预告片•Re",
      "author": "Reborn",
      "version": 1,
      "updateText": "",
      "tips": "",
      "rule": "rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77yMUmVib3Ju77+laG9tZV9ydWxl77+leyJ0aXRsZSI6IumihOWRiueJh+KAolJlIiwiYXV0aG9yIjoiUmVib3JuIiwidXJsIjoiaHR0cHM6Ly93d3cueXVnYW9waWFuLmNuL21vdmxpc3QvZnlhcmVhX2Z5Y2xhc3NfZnl5ZWFyX19meXBhZ2UiLCJ2ZXJzaW9uIjoxLCJjb2xfdHlwZSI6Im1vdmllXzMiLCJjbGFzc19uYW1lIjoi5YWo6YOoJuWJp+aDhSbllpzliacm5oOK5oKaJueIseaDhSbliqjkvZwm54qv572qJuWGkumZqSbmgqznlpEm5aWH5bm7JuenkeW5uybmgZDmgJYm5a625bqtJuWKqOeUuybnuqrlvZXniYcm5Y6G5Y+yJuS8oOiusCbmiJjkuokm5ZCM5oCnJumfs+S5kCbmrYzoiJ4m6KW/6YOoJueBvumavibmrabkvqAm5oOF6ImyIiwiY2xhc3NfdXJsIjoiJuWJp+aDhSbllpzliacm5oOK5oKaJueIseaDhSbliqjkvZwm54qv572qJuWGkumZqSbmgqznlpEm5aWH5bm7JuenkeW5uybmgZDmgJYm5a625bqtJuWKqOeUuybnuqrlvZXniYcm5Y6G5Y+yJuS8oOiusCbmiJjkuokm5ZCM5oCnJumfs+S5kCbmrYzoiJ4m6KW/6YOoJueBvumavibmrabkvqAm5oOF6ImyIiwiYXJlYV9uYW1lIjoi5YWo6YOoJue+juWbvSbkuK3lm73lpKfpmYYm6Iux5Zu9JuazleWbvSbpppnmuK8m5Y+w5rm+JuaXpeacrCbpn6nlm70m5rOw5Zu9JuW+t+WbvSbliqDmi7/lpKcm5r6z5aSn5Yip5LqaJuilv+ePreeJmSbmhI/lpKfliKkm5Y2w5bqmJuavlOWIqeaXtibkv4TnvZfmlq8m6JGh6JCE54mZIiwiYXJlYV91cmwiOiIm576O5Zu9JuS4reWbveWkp+mZhiboi7Hlm70m5rOV5Zu9Jummmea4ryblj7Dmub4m5pel5pysJumfqeWbvSbms7Dlm70m5b635Zu9JuWKoOaLv+WkpybmvrPlpKfliKnkupom6KW/54+t54mZJuaEj+Wkp+WIqSbljbDluqYm5q+U5Yip5pe2JuS/hOe9l+aWrybokaHokITniZkiLCJ5ZWFyX25hbWUiOiLlhajpg6gmMjAyMCYyMDE5JjIwMTgmMjAxNyYyMDE2JjIwMTUmMjAxNCYyMDEzJjIwMTImMjAxMSYyMDEwJjIwMDkmMjAwOCIsInllYXJfdXJsIjoiJjIwMjAmMjAxOSYyMDE4JjIwMTcmMjAxNiYyMDE1JjIwMTQmMjAxMyYyMDEyJjIwMTEmMjAxMCYyMDA5JjIwMDgiLCJmaW5kX3J1bGUiOiIubW92bGlzdCwxJiZsaTsuaXRlbS10aXRsZSYmVGV4dDtpbWcmJnNyYzsuaXRlbS1wdWJ0aW1lJiZUZXh0O2EmJmhyZWYuanM6J2h0dHA6Ly9tLnl1Z2FvcGlhbi5jbi8/dmlldz1tb3ZpZSZpZD0nK2lucHV0LnJlcGxhY2UoJy9tb3ZpZS8nLCcnKSIsInNlYXJjaF91cmwiOiJodHRwOi8vbS55dWdhb3BpYW4uY24vP3ZpZXc9bGlzdCZsaXN0dHlwZT1tb3ZsaXN0JnBhZ2U9ZnlwYWdlJmtleXdvcmQ9KioiLCJ0aXRsZUNvbG9yIjoiIzAwMzQ3MiIsImdyb3VwIjoiKu+4j+KDo+efreinhumikeWFjeWXheaOoiIsInNlYXJjaEZpbmQiOiIubW92bGlzdCYmbGk7aDImJlRleHQ7YSYmaHJlZjtwJiZUZXh0Oyo7aW1nJiZzcmMiLCJkZXRhaWxfY29sX3R5cGUiOiJwaWNfMSIsImRldGFpbF9maW5kX3J1bGUiOiJqczpcbnZhciByZXMgPSB7fTtcbnZhciByZXN1bHQgPSBbXTtcbnZhciBodG1sID0gZmV0Y2goZ2V0VXJsKCksIHt9KTtcbi8vc2V0RXJyb3IoZ2V0UnVsZSgpKTtcbnJlc3VsdC5wdXNoKHtcbiAgICB0aXRsZTogcGFyc2VEb20oaHRtbCwgXCIubW92aWUtaW5mbyYmcCYmVGV4dFwiKS5yZXBsYWNlKGdldFVybCgpK1wiL1wiLCBcIlwiKStcIlxcbijngrnlh7vlm77niYflj6/orr/pl67mupDnvZHpobUpXCIsXG4gICAgcGljX3VybDogcGFyc2VEb20oaHRtbCwgXCIubW92aWUtaW5mbyYmYSYmaW1nJiZzcmNcIiksXG4gICAgdXJsOiBnZXRVcmwoKSxcbiAgICBkZXNjOiAgcGFyc2VEb20oaHRtbCwgXCIucGxheWVyLWRldGFpbCYmcCYmVGV4dFwiKS5yZXBsYWNlKGdldFVybCgpK1wiL1wiLCBcIlwiKSxcbn0pO1xuXG52YXIgdmlkZW9MaXN0SHRtbCA9IHBhcnNlRG9tKGh0bWwsIFwiLnZpZGVvbGlzdC13cmFwcGVyJiZIdG1sXCIpO1xudmFyIHZpZGVvVGl0bGVzID0gdmlkZW9MaXN0SHRtbC5tYXRjaCgvPGgyW1xcc1xcU10qPzxcXC9oMj4vZyk7XG52YXIgdmlkZW9MaW5rc0FyciA9IHZpZGVvTGlzdEh0bWwubWF0Y2goLzx1bFtcXHNcXFNdKj88XFwvdWw+L2cpO1xuXG5mb3IodmFyIGkgPSAwOyBpIDwgdmlkZW9UaXRsZXMubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBwYXJzZURvbSh2aWRlb1RpdGxlc1tpXSwgXCJoMiYmVGV4dFwiKS5yZXBsYWNlKGdldFVybCgpK1wiL1wiLCBcIlwiKSxcbiAgICAgICAgY29sX3R5cGU6IFwidGV4dF8xXCJcbiAgICB9KTtcbiAgICB2YXIgdmlkZW9MaW5rcyA9IHZpZGVvTGlua3NBcnJbaV0ubWF0Y2goLzxsaVtcXHNcXFNdKj88XFwvbGk+L2cpO1xuLy9zZXRFcnJvcihKU09OLnN0cmluZ2lmeSh2aWRlb0xpbmtzKSk7XG4vL3NldEVycm9yKHZpZGVvTGlua3NbMF0ucmVwbGFjZShcIi4vP1wiLCBcIi8/XCIpKTtcbi8vc2V0RXJyb3IocGFyc2VEb20odmlkZW9MaW5rc1swXS5yZXBsYWNlKFwiLi8/XCIsIFwiLz9cIiksIFwibGkmJmEmJmhyZWZcIikpO1xuICAgIGZvcih2YXIgaiA9IDA7IGogPCB2aWRlb0xpbmtzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiBwYXJzZURvbSh2aWRlb0xpbmtzW2pdLCBcImxpJiZUZXh0XCIpLnJlcGxhY2UoZ2V0VXJsKCkrXCIvXCIsIFwiXCIpLFxuICAgICAgICAgICAgdXJsOiBwYXJzZURvbSh2aWRlb0xpbmtzW2pdLnJlcGxhY2UoXCIuLz9cIiwgXCIvP1wiKSwgXCJsaSYmYSYmaHJlZlwiKSsnQGxhenlSdWxlPUh0bWwuanM6IGlucHV0PXBhcnNlRG9tKGlucHV0LCBcImJvZHnvvIbvvIbvvIbvvIZ0ZXh0YXJlYe+8hu+8hu+8hu+8hkh0bWxcIikucmVwbGFjZSgv77yG77yGbHTvvJvvvJsvZywgXCI8XCIpLnJlcGxhY2UoL++8hu+8hmd077yb77ybL2csIFwiPlwiKe+8m++8m3ZhciB1cmw9cGFyc2VEb20oaW5wdXQsIFwidmlkZW/vvIbvvIbvvIbvvIZzcmNcIinvvJvvvJt1cmwnLFxuICAgICAgICAgICAgY29sX3R5cGU6IFwidGV4dF8yXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cblxucmVzLmRhdGEgPSByZXN1bHQ7XG5zZXRIb21lUmVzdWx0KHJlcyk7Iiwic2RldGFpbF9jb2xfdHlwZSI6Im1vdmllXzEiLCJzZGV0YWlsX2ZpbmRfcnVsZSI6IiJ9"
    }
  ]
}
